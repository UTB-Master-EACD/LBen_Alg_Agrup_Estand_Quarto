<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="luisfflorezg">

<title>LBen Algoritmos de Agrupación</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/clipboard/clipboard.min.js"></script>
<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/quarto-html/quarto.js"></script>
<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/quarto-html/popper.min.js"></script>
<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/quarto-html/anchor.min.js"></script>
<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="LBen_Alg_Agrup_Estand_qhtml_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="LBen_Alg_Agrup_Estand_qhtml_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contenido</h2>
   
  <ul>
  <li><a href="#resumen" id="toc-resumen" class="nav-link active" data-scroll-target="#resumen"><span class="header-section-number">1</span> Resumen</a></li>
  <li><a href="#carga-de-librerias" id="toc-carga-de-librerias" class="nav-link" data-scroll-target="#carga-de-librerias"><span class="header-section-number">2</span> Carga de Librerias</a></li>
  <li><a href="#cargar-datos-iniciales" id="toc-cargar-datos-iniciales" class="nav-link" data-scroll-target="#cargar-datos-iniciales"><span class="header-section-number">3</span> Cargar Datos Iniciales</a></li>
  <li><a href="#descripcion-del-dataset-datos-iniciales" id="toc-descripcion-del-dataset-datos-iniciales" class="nav-link" data-scroll-target="#descripcion-del-dataset-datos-iniciales"><span class="header-section-number">4</span> Descripcion del dataset Datos Iniciales</a></li>
  <li><a href="#limpieza-del-dataset-datos-iniciales" id="toc-limpieza-del-dataset-datos-iniciales" class="nav-link" data-scroll-target="#limpieza-del-dataset-datos-iniciales"><span class="header-section-number">5</span> Limpieza del Dataset Datos Iniciales</a></li>
  <li><a href="#analisis-exploratorio-de-datos-iniciales" id="toc-analisis-exploratorio-de-datos-iniciales" class="nav-link" data-scroll-target="#analisis-exploratorio-de-datos-iniciales"><span class="header-section-number">6</span> Analisis Exploratorio de Datos Iniciales</a>
  <ul class="collapse">
  <li><a href="#graficos-de-distribicion-de-frecuencia" id="toc-graficos-de-distribicion-de-frecuencia" class="nav-link" data-scroll-target="#graficos-de-distribicion-de-frecuencia"><span class="header-section-number">6.1</span> Graficos de distribicion de frecuencia</a></li>
  <li><a href="#tablas-de-distribución-de-frecuencias-de-las-variables" id="toc-tablas-de-distribución-de-frecuencias-de-las-variables" class="nav-link" data-scroll-target="#tablas-de-distribución-de-frecuencias-de-las-variables"><span class="header-section-number">6.2</span> Tablas de distribución de frecuencias de las variables</a></li>
  <li><a href="#magnitudes-de-la-variable-consumo" id="toc-magnitudes-de-la-variable-consumo" class="nav-link" data-scroll-target="#magnitudes-de-la-variable-consumo"><span class="header-section-number">6.3</span> Magnitudes de la variable CONSUMO</a></li>
  <li><a href="#distribución-de-la-variable-consumo-por-día" id="toc-distribución-de-la-variable-consumo-por-día" class="nav-link" data-scroll-target="#distribución-de-la-variable-consumo-por-día"><span class="header-section-number">6.4</span> Distribución de la variable CONSUMO por día</a></li>
  <li><a href="#distribucion-horaria-de-la-variable-consumo" id="toc-distribucion-horaria-de-la-variable-consumo" class="nav-link" data-scroll-target="#distribucion-horaria-de-la-variable-consumo"><span class="header-section-number">6.5</span> Distribucion horaria de la variable consumo</a></li>
  <li><a href="#identificación-estadistica-y-eliminación-de-atipicos" id="toc-identificación-estadistica-y-eliminación-de-atipicos" class="nav-link" data-scroll-target="#identificación-estadistica-y-eliminación-de-atipicos"><span class="header-section-number">6.6</span> Identificación estadistica y eliminación de atipicos</a></li>
  <li><a href="#segmentación-de-outliers" id="toc-segmentación-de-outliers" class="nav-link" data-scroll-target="#segmentación-de-outliers"><span class="header-section-number">6.7</span> Segmentación de outliers</a></li>
  <li><a href="#tabla-completa-de-outliers" id="toc-tabla-completa-de-outliers" class="nav-link" data-scroll-target="#tabla-completa-de-outliers"><span class="header-section-number">6.8</span> Tabla completa de outliers</a></li>
  <li><a href="#distribución-de-outliers-todos-los-rangos" id="toc-distribución-de-outliers-todos-los-rangos" class="nav-link" data-scroll-target="#distribución-de-outliers-todos-los-rangos"><span class="header-section-number">6.9</span> Distribución de outliers (todos los rangos)</a></li>
  <li><a href="#distribucion-de-outliers-por-rango" id="toc-distribucion-de-outliers-por-rango" class="nav-link" data-scroll-target="#distribucion-de-outliers-por-rango"><span class="header-section-number">6.10</span> Distribucion de outliers por rango</a></li>
  <li><a href="#eliminacion-de-outliers" id="toc-eliminacion-de-outliers" class="nav-link" data-scroll-target="#eliminacion-de-outliers"><span class="header-section-number">6.11</span> Eliminacion de outliers</a></li>
  <li><a href="#comparativo-descripcion-de-datos" id="toc-comparativo-descripcion-de-datos" class="nav-link" data-scroll-target="#comparativo-descripcion-de-datos"><span class="header-section-number">6.12</span> Comparativo descripcion de datos</a></li>
  </ul></li>
  <li><a href="#preparación-para-identificacion-de-grupos-normalización" id="toc-preparación-para-identificacion-de-grupos-normalización" class="nav-link" data-scroll-target="#preparación-para-identificacion-de-grupos-normalización"><span class="header-section-number">7</span> Preparación para Identificacion de Grupos (Normalización)</a></li>
  <li><a href="#calculo-del-numero-optimo-de-grupos" id="toc-calculo-del-numero-optimo-de-grupos" class="nav-link" data-scroll-target="#calculo-del-numero-optimo-de-grupos"><span class="header-section-number">8</span> Calculo del numero Optimo de Grupos</a></li>
  <li><a href="#creación-de-grupos" id="toc-creación-de-grupos" class="nav-link" data-scroll-target="#creación-de-grupos"><span class="header-section-number">9</span> Creación de Grupos</a>
  <ul class="collapse">
  <li><a href="#validación-de-grupos" id="toc-validación-de-grupos" class="nav-link" data-scroll-target="#validación-de-grupos"><span class="header-section-number">9.1</span> Validación de Grupos</a></li>
  <li><a href="#exploracion-e-interpretación-de-grupos" id="toc-exploracion-e-interpretación-de-grupos" class="nav-link" data-scroll-target="#exploracion-e-interpretación-de-grupos"><span class="header-section-number">9.2</span> Exploracion e interpretación de grupos</a></li>
  </ul></li>
  <li><a href="#edición-o-ajuste-de-grupos-si-aplica" id="toc-edición-o-ajuste-de-grupos-si-aplica" class="nav-link" data-scroll-target="#edición-o-ajuste-de-grupos-si-aplica"><span class="header-section-number">10</span> Edición o Ajuste de Grupos (si aplica)</a>
  <ul class="collapse">
  <li><a href="#validación-de-grupos-editado" id="toc-validación-de-grupos-editado" class="nav-link" data-scroll-target="#validación-de-grupos-editado"><span class="header-section-number">10.1</span> Validación de grupos editado</a></li>
  <li><a href="#exploracion-e-interpretación-de-grupos-editado" id="toc-exploracion-e-interpretación-de-grupos-editado" class="nav-link" data-scroll-target="#exploracion-e-interpretación-de-grupos-editado"><span class="header-section-number">10.2</span> Exploracion e interpretación de grupos editado</a></li>
  </ul></li>
  <li><a href="#modelos-de-lb" id="toc-modelos-de-lb" class="nav-link" data-scroll-target="#modelos-de-lb"><span class="header-section-number">11</span> Modelos de LB</a>
  <ul class="collapse">
  <li><a href="#construcción" id="toc-construcción" class="nav-link" data-scroll-target="#construcción"><span class="header-section-number">11.1</span> Construcción</a></li>
  <li><a href="#metricas" id="toc-metricas" class="nav-link" data-scroll-target="#metricas"><span class="header-section-number">11.2</span> Metricas</a></li>
  <li><a href="#comparaciones-contra-modelos-sin-agrupaciones" id="toc-comparaciones-contra-modelos-sin-agrupaciones" class="nav-link" data-scroll-target="#comparaciones-contra-modelos-sin-agrupaciones"><span class="header-section-number">11.3</span> Comparaciones contra modelos sin agrupaciones</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">LBen Algoritmos de Agrupación</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>luisfflorezg </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="resumen" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="resumen"><span class="header-section-number">1</span> Resumen</h2>
<p>Descripcion del analisis</p>
</section>
<section id="carga-de-librerias" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="carga-de-librerias"><span class="header-section-number">2</span> Carga de Librerias</h2>
<p>Listado de librerias utilizadas</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dbscan)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FSA)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(e1071)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="cargar-datos-iniciales" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="cargar-datos-iniciales"><span class="header-section-number">3</span> Cargar Datos Iniciales</h2>
<p>En nuestro caso el formato csv - sep “;” es el que se está generando desde las fuentes primarias de información</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>cargar_datos <span class="ot">&lt;-</span> <span class="cf">function</span>(archivo) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  datos <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(archivo, <span class="at">delim =</span> <span class="st">";"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">.default =</span> <span class="st">"c"</span>), <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">decimal_mark =</span> <span class="st">"."</span>, <span class="at">grouping_mark =</span> <span class="st">","</span>), <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(datos) <span class="ot">&lt;-</span> <span class="fu">trimws</span>(<span class="fu">colnames</span>(datos))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">all</span>(<span class="fu">c</span>(<span class="st">"fecha_hora"</span>, <span class="st">"consumo"</span>) <span class="sc">%in%</span> <span class="fu">colnames</span>(datos))) {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El archivo debe contener las columnas 'fecha_hora' y 'consumo'"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">fecha_hora =</span> <span class="fu">dmy_hm</span>(fecha_hora),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">consumo =</span> <span class="fu">as.numeric</span>(consumo),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>      año <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="fu">year</span>(fecha_hora)),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">mes =</span> <span class="fu">month</span>(fecha_hora, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">dia =</span> <span class="fu">day</span>(fecha_hora),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">dia_sem =</span> <span class="fu">wday</span>(fecha_hora, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>, <span class="at">week_start =</span> <span class="dv">1</span>),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">hora =</span> <span class="fu">hour</span>(fecha_hora)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(fecha_hora, año, mes, dia, dia_sem, hora, consumo)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datos)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>ruta <span class="ot">&lt;-</span> <span class="st">"www/caso1.csv"</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>datos_preparados <span class="ot">&lt;-</span> <span class="fu">cargar_datos</span>(ruta)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( <span class="fu">head</span> (datos_preparados, <span class="dv">10</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-174f78abcb79f98774d0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-174f78abcb79f98774d0">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10"],["2024-10-01T00:00:00Z","2024-10-01T01:00:00Z","2024-10-01T02:00:00Z","2024-10-01T03:00:00Z","2024-10-01T04:00:00Z","2024-10-01T05:00:00Z","2024-10-01T06:00:00Z","2024-10-01T07:00:00Z","2024-10-01T08:00:00Z","2024-10-01T09:00:00Z"],[2024,2024,2024,2024,2024,2024,2024,2024,2024,2024],["oct","oct","oct","oct","oct","oct","oct","oct","oct","oct"],[1,1,1,1,1,1,1,1,1,1],["martes","martes","martes","martes","martes","martes","martes","martes","martes","martes"],[0,1,2,3,4,5,6,7,8,9],[152,152,153,151,147,148,152,176,169,180]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>fecha_hora<\/th>\n      <th>año<\/th>\n      <th>mes<\/th>\n      <th>dia<\/th>\n      <th>dia_sem<\/th>\n      <th>hora<\/th>\n      <th>consumo<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,4,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"fecha_hora","targets":1},{"name":"año","targets":2},{"name":"mes","targets":3},{"name":"dia","targets":4},{"name":"dia_sem","targets":5},{"name":"hora","targets":6},{"name":"consumo","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="descripcion-del-dataset-datos-iniciales" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="descripcion-del-dataset-datos-iniciales"><span class="header-section-number">4</span> Descripcion del dataset Datos Iniciales</h2>
<p>Verificacion de la disponibilidad y formato de las variables requeridas para el analisis</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>describir_datos <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  resumen <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">Variable =</span> <span class="fu">names</span>(.),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">Tipo =</span> <span class="fu">sapply</span>(., class),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">Registros =</span> <span class="fu">n</span>(),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Valores_Unicos =</span> <span class="fu">sapply</span>(., <span class="cf">function</span>(x) <span class="fu">length</span>(<span class="fu">unique</span>(x))),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">Valores_Faltantes =</span> <span class="fu">sapply</span>(., <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(resumen, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>))</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">describir_datos</span>(datos_preparados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-62423769a44652cb74c4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-62423769a44652cb74c4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7"],["fecha_hora","año","mes","dia","dia_sem","hora","consumo"],[["POSIXct","POSIXt"],["integer"],["ordered","factor"],["integer"],["ordered","factor"],["integer"],["numeric"]],[2088,2088,2088,2088,2088,2088,2088],[2088,1,3,31,7,24,149],[0,0,0,0,0,0,11]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variable<\/th>\n      <th>Tipo<\/th>\n      <th>Registros<\/th>\n      <th>Valores_Unicos<\/th>\n      <th>Valores_Faltantes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Variable","targets":1},{"name":"Tipo","targets":2},{"name":"Registros","targets":3},{"name":"Valores_Unicos","targets":4},{"name":"Valores_Faltantes","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="limpieza-del-dataset-datos-iniciales" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="limpieza-del-dataset-datos-iniciales"><span class="header-section-number">5</span> Limpieza del Dataset Datos Iniciales</h2>
<p>Eliminación de datos faltantes</p>
<p>Debido a que no se utilizaran algoritmos que requieran conservar la forma de la serie de datos, es posible eliminar los registros faltantes.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>limpiar_datos <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  datos_limpiados <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>fecha_hora) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na.omit</span>()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datos_limpiados)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>datos_limpiados <span class="ot">&lt;-</span> <span class="fu">limpiar_datos</span>(datos_preparados)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">describir_datos</span>(datos_limpiados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-4f25bd387e9954a6f539" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4f25bd387e9954a6f539">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["año","mes","dia","dia_sem","hora","consumo"],[["integer"],["ordered","factor"],["integer"],["ordered","factor"],["integer"],["numeric"]],[2077,2077,2077,2077,2077,2077],[1,3,31,7,24,148],[0,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variable<\/th>\n      <th>Tipo<\/th>\n      <th>Registros<\/th>\n      <th>Valores_Unicos<\/th>\n      <th>Valores_Faltantes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Variable","targets":1},{"name":"Tipo","targets":2},{"name":"Registros","targets":3},{"name":"Valores_Unicos","targets":4},{"name":"Valores_Faltantes","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># datatable( head(datos_limpiados) )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analisis-exploratorio-de-datos-iniciales" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="analisis-exploratorio-de-datos-iniciales"><span class="header-section-number">6</span> Analisis Exploratorio de Datos Iniciales</h2>
<section id="graficos-de-distribicion-de-frecuencia" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="graficos-de-distribicion-de-frecuencia"><span class="header-section-number">6.1</span> Graficos de distribicion de frecuencia</h3>
<p>Para la metodologia es deseable pero no es necesario que los datos esten balanceados, se requiere la presencia de la mayor cantidad de escenarios posibles (todos los dias y todas las horas), para darle sentido a los grupos que se obtendran mas adelante, la influencia del mes puede ser significativa en caso de que existan patrones de largo plazo (estaciones climaticas, operaciones temporales, entre otros), en los casos de estudio tenemos menos de un año de datos.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>graficar_distribuciones <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, <span class="at">titulo_size =</span> <span class="dv">16</span>, <span class="at">eje_size =</span> <span class="dv">12</span>) {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico de distribución de meses</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> mes)) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución por Mes"</span>, <span class="at">x =</span> <span class="st">"Mes"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> titulo_size, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> eje_size),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size),</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico de distribución de días de la semana</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> dia_sem)) <span class="sc">+</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"darkgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución por Día de la Semana"</span>, <span class="at">x =</span> <span class="st">"Día"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> titulo_size, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> eje_size),</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size),</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size),</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size)</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico de distribución de horas</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(hora))) <span class="sc">+</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"darkred"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución por Hora"</span>, <span class="at">x =</span> <span class="st">"Hora"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>)<span class="sc">+</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> titulo_size, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size),</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size),</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> eje_size)</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ajustar el diseño para evitar superposición</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">&amp;</span> <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">0</span>))</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamada a la función</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_distribuciones</span>(datos_limpiados, <span class="at">titulo_size =</span> <span class="dv">9</span>, <span class="at">eje_size =</span> <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tablas-de-distribución-de-frecuencias-de-las-variables" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="tablas-de-distribución-de-frecuencias-de-las-variables"><span class="header-section-number">6.2</span> Tablas de distribución de frecuencias de las variables</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>generar_tablas_frecuencia <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Función auxiliar para calcular la frecuencia absoluta y relativa</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  calcular_frecuencia <span class="ot">&lt;-</span> <span class="cf">function</span>(variable, nombre_variable) {</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    tabla <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">count</span>({{ variable }}) <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">Frecuencia_Relativa =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n),</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">Porcentaje =</span> <span class="fu">round</span>(Frecuencia_Relativa <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(<span class="at">Valor =</span> {{ variable }}, <span class="at">Frecuencia_Absoluta =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(Valor)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tabla)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Generar las tablas para cada variable</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  tabla_mes <span class="ot">&lt;-</span> <span class="fu">calcular_frecuencia</span>(mes, <span class="st">"Mes"</span>)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  tabla_dia_sem <span class="ot">&lt;-</span> <span class="fu">calcular_frecuencia</span>(dia_sem, <span class="st">"Día de la Semana"</span>)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  tabla_hora <span class="ot">&lt;-</span> <span class="fu">calcular_frecuencia</span>(hora, <span class="st">"Hora"</span>)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Retornar las tablas en una lista</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Tabla_Mes =</span> tabla_mes,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">Tabla_Dia_Semana =</span> tabla_dia_sem,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Tabla_Hora =</span> tabla_hora</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamada a la función</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>tablas_frecuencia <span class="ot">&lt;-</span> <span class="fu">generar_tablas_frecuencia</span>(datos_limpiados)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar las tablas</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( tablas_frecuencia<span class="sc">$</span>Tabla_Mes )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2baa0bac1d5934366008" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2baa0bac1d5934366008">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["oct","nov","dic"],[744,720,613],[0.3582089552238806,0.3466538276360135,0.2951372171401059],[35.82,34.67,29.51]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Valor<\/th>\n      <th>Frecuencia_Absoluta<\/th>\n      <th>Frecuencia_Relativa<\/th>\n      <th>Porcentaje<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Valor","targets":1},{"name":"Frecuencia_Absoluta","targets":2},{"name":"Frecuencia_Relativa","targets":3},{"name":"Porcentaje","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( tablas_frecuencia<span class="sc">$</span>Tabla_Dia_Semana )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-bd8abffe9d2eea9a0e69" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-bd8abffe9d2eea9a0e69">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7"],["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],[288,312,312,305,288,284,288],[0.1386615310544054,0.1502166586422725,0.1502166586422725,0.1468464130958113,0.1386615310544054,0.1367356764564275,0.1386615310544054],[13.87,15.02,15.02,14.68,13.87,13.67,13.87]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Valor<\/th>\n      <th>Frecuencia_Absoluta<\/th>\n      <th>Frecuencia_Relativa<\/th>\n      <th>Porcentaje<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Valor","targets":1},{"name":"Frecuencia_Absoluta","targets":2},{"name":"Frecuencia_Relativa","targets":3},{"name":"Porcentaje","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( tablas_frecuencia<span class="sc">$</span>Tabla_Hora )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a75d464f40011ede5d3e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a75d464f40011ede5d3e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],[87,87,87,87,87,87,87,87,87,87,87,87,87,87,86,86,86,85,86,86,86,86,86,86],[0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04188733750601829,0.04140587385652383,0.04140587385652383,0.04140587385652383,0.04092441020702937,0.04140587385652383,0.04140587385652383,0.04140587385652383,0.04140587385652383,0.04140587385652383,0.04140587385652383],[4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.19,4.14,4.14,4.14,4.09,4.14,4.14,4.14,4.14,4.14,4.14]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Valor<\/th>\n      <th>Frecuencia_Absoluta<\/th>\n      <th>Frecuencia_Relativa<\/th>\n      <th>Porcentaje<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Valor","targets":1},{"name":"Frecuencia_Absoluta","targets":2},{"name":"Frecuencia_Relativa","targets":3},{"name":"Porcentaje","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="magnitudes-de-la-variable-consumo" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="magnitudes-de-la-variable-consumo"><span class="header-section-number">6.3</span> Magnitudes de la variable CONSUMO</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(moments)  <span class="co"># Para curtosis y asimetría</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>analisis_exploratorio_consumo <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  resumen <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Minimo =</span> <span class="fu">round</span>(<span class="fu">min</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">Q1 =</span> <span class="fu">round</span>(<span class="fu">quantile</span>(consumo, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">Mediana =</span> <span class="fu">round</span>(<span class="fu">median</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">Media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">Q3 =</span> <span class="fu">round</span>(<span class="fu">quantile</span>(consumo, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">Maximo =</span> <span class="fu">round</span>(<span class="fu">max</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">Rango =</span> <span class="fu">round</span>(Maximo <span class="sc">-</span> Minimo, <span class="dv">2</span>),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">Rango_Intercuartilico =</span> <span class="fu">round</span>(Q3 <span class="sc">-</span> Q1, <span class="dv">2</span>),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">Desviacion_Estandar =</span> <span class="fu">round</span>(<span class="fu">sd</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">Coef_Variacion =</span> <span class="fu">round</span>((Desviacion_Estandar <span class="sc">/</span> Media) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">Curtosis =</span> <span class="fu">round</span>(<span class="fu">kurtosis</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">Asimetria =</span> <span class="fu">round</span>(<span class="fu">skewness</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">2</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(resumen)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamada a la función</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>analisis_consumo <span class="ot">&lt;-</span> <span class="fu">analisis_exploratorio_consumo</span>(datos_limpiados)</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar la tabla con los resultados</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( analisis_consumo )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e586291bfd25b65e9c37" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e586291bfd25b65e9c37">{"x":{"filter":"none","vertical":false,"data":[["1"],[0],[155],[172],[175.74],[193],[260],[260],[38],[29.7],[16.9],[4.37],[0.23]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Minimo<\/th>\n      <th>Q1<\/th>\n      <th>Mediana<\/th>\n      <th>Media<\/th>\n      <th>Q3<\/th>\n      <th>Maximo<\/th>\n      <th>Rango<\/th>\n      <th>Rango_Intercuartilico<\/th>\n      <th>Desviacion_Estandar<\/th>\n      <th>Coef_Variacion<\/th>\n      <th>Curtosis<\/th>\n      <th>Asimetria<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Minimo","targets":1},{"name":"Q1","targets":2},{"name":"Mediana","targets":3},{"name":"Media","targets":4},{"name":"Q3","targets":5},{"name":"Maximo","targets":6},{"name":"Rango","targets":7},{"name":"Rango_Intercuartilico","targets":8},{"name":"Desviacion_Estandar","targets":9},{"name":"Coef_Variacion","targets":10},{"name":"Curtosis","targets":11},{"name":"Asimetria","targets":12}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="distribución-de-la-variable-consumo-por-día" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="distribución-de-la-variable-consumo-por-día"><span class="header-section-number">6.4</span> Distribución de la variable CONSUMO por día</h3>
<p>(Analisis del comportamiento del consumo, se identifican 2 zonas alta y baja carga)</p>
<p>Comparativo General vs día</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>graficar_distribucion_dia <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, dia_especifico) {</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verificar que el día ingresado es válido</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  dias_validos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lunes"</span>, <span class="st">"martes"</span>, <span class="st">"miércoles"</span>, <span class="st">"jueves"</span>, <span class="st">"viernes"</span>, <span class="st">"sábado"</span>, <span class="st">"domingo"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>(dia_especifico <span class="sc">%in%</span> dias_validos)) {</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El día ingresado no es válido. Debe ser uno de: lunes, martes, miércoles, jueves, viernes, sábado o domingo."</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico general (todos los días)</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  p_general <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> consumo)) <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución General de Consumo"</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Consumo"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico para el día específico</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  p_dia <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">as.character</span>(dia_sem) <span class="sc">==</span> dia_especifico), <span class="fu">aes</span>(<span class="at">x =</span> consumo)) <span class="sc">+</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"darkorange"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribución de Consumo -"</span>, dia_especifico),</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Consumo"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Unir ambos gráficos en una fila</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#layout &lt;- p_general + p_dia + plot_layout(ncol = 2)</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  layout <span class="ot">&lt;-</span> p_general <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">1</span>)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(layout)</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de uso: Graficar el consumo general y para los martes</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_distribucion_dia</span>(datos_limpiados, <span class="st">"lunes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar_distribucion_dia(datos_limpiados, "martes")</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar_distribucion_dia(datos_limpiados, "miércoles")</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar_distribucion_dia(datos_limpiados, "jueves")</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar_distribucion_dia(datos_limpiados, "viernes")</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar_distribucion_dia(datos_limpiados, "sábado")</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar_distribucion_dia(datos_limpiados, "domingo")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Comparativo Día vs día</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>graficar_dos_dias <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, dia1, dia2) {</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lista de días válidos</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  dias_validos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lunes"</span>, <span class="st">"martes"</span>, <span class="st">"miércoles"</span>, <span class="st">"jueves"</span>, <span class="st">"viernes"</span>, <span class="st">"sábado"</span>, <span class="st">"domingo"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Validar que los días ingresados sean correctos</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>(dia1 <span class="sc">%in%</span> dias_validos) <span class="sc">|</span> <span class="sc">!</span>(dia2 <span class="sc">%in%</span> dias_validos)) {</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Los días ingresados no son válidos. Deben ser: lunes, martes, miércoles, jueves, viernes, sábado o domingo."</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico para el primer día</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">as.character</span>(dia_sem) <span class="sc">==</span> dia1), <span class="fu">aes</span>(<span class="at">x =</span> consumo)) <span class="sc">+</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribución de Consumo -"</span>, dia1),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Consumo"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico para el segundo día</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">as.character</span>(dia_sem) <span class="sc">==</span> dia2), <span class="fu">aes</span>(<span class="at">x =</span> consumo)) <span class="sc">+</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"darkorange"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribución de Consumo -"</span>, dia2),</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Consumo"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Unir ambos gráficos en una fila</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  layout <span class="ot">&lt;-</span> p1 <span class="sc">+</span> p2 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(layout)</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de uso: Comparar consumo entre martes y viernes</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_dos_dias</span>(datos_limpiados, <span class="st">"lunes"</span>, <span class="st">"domingo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="distribucion-horaria-de-la-variable-consumo" class="level3" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="distribucion-horaria-de-la-variable-consumo"><span class="header-section-number">6.5</span> Distribucion horaria de la variable consumo</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>graficar_general_vs_dia <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, dia) {</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lista de días válidos</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  dias_validos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lunes"</span>, <span class="st">"martes"</span>, <span class="st">"miércoles"</span>, <span class="st">"jueves"</span>, <span class="st">"viernes"</span>, <span class="st">"sábado"</span>, <span class="st">"domingo"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Validar que el día ingresado sea correcto</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>(dia <span class="sc">%in%</span> dias_validos)) {</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El día ingresado no es válido. Debe ser: lunes, martes, miércoles, jueves, viernes, sábado o domingo."</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Agrupar datos por hora y calcular promedio de consumo (todos los días)</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  datos_general <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(hora) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">consumo_promedio =</span> <span class="fu">mean</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Agrupar datos por hora pero solo para el día seleccionado</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  datos_dia <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">as.character</span>(dia_sem) <span class="sc">==</span> dia) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(hora) <span class="sc">%&gt;%</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">consumo_promedio =</span> <span class="fu">mean</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico de la distribución general</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos_general, <span class="fu">aes</span>(<span class="at">x =</span> hora, <span class="at">y =</span> consumo_promedio)) <span class="sc">+</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"General"</span>,</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Hora del día"</span>, <span class="at">y =</span> <span class="st">"Consumo Promedio"</span>) <span class="sc">+</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span>) <span class="sc">+</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico de la distribución para el día específico</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos_dia, <span class="fu">aes</span>(<span class="at">x =</span> hora, <span class="at">y =</span> consumo_promedio)) <span class="sc">+</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"darkorange"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Día"</span>, dia),</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Hora del día"</span>, <span class="at">y =</span> <span class="st">"Consumo Promedio"</span>) <span class="sc">+</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span>) <span class="sc">+</span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Unir los gráficos en una fila</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>  <span class="co">#layout &lt;- p1 + p2 + plot_layout(ncol = 2)</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>  layout <span class="ot">&lt;-</span> p1 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">1</span>)</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(layout)</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de uso: General vs Martes</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_general_vs_dia</span>(datos_limpiados, <span class="st">"lunes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>graficar_dia_vs_dia <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, dia1, dia2) {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lista de días válidos</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  dias_validos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lunes"</span>, <span class="st">"martes"</span>, <span class="st">"miércoles"</span>, <span class="st">"jueves"</span>, <span class="st">"viernes"</span>, <span class="st">"sábado"</span>, <span class="st">"domingo"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Validar que los días ingresados sean correctos</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>(dia1 <span class="sc">%in%</span> dias_validos) <span class="sc">|</span> <span class="sc">!</span>(dia2 <span class="sc">%in%</span> dias_validos)) {</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Los días ingresados no son válidos. Deben ser: lunes, martes, miércoles, jueves, viernes, sábado o domingo."</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Agrupar datos por hora para cada día seleccionado</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  datos_dia1 <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">as.character</span>(dia_sem) <span class="sc">==</span> dia1) <span class="sc">%&gt;%</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(hora) <span class="sc">%&gt;%</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">consumo_promedio =</span> <span class="fu">mean</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  datos_dia2 <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">as.character</span>(dia_sem) <span class="sc">==</span> dia2) <span class="sc">%&gt;%</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(hora) <span class="sc">%&gt;%</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">consumo_promedio =</span> <span class="fu">mean</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico para el primer día</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos_dia1, <span class="fu">aes</span>(<span class="at">x =</span> hora, <span class="at">y =</span> consumo_promedio)) <span class="sc">+</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Promedio Hora"</span>, dia1),</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Hora del día"</span>, <span class="at">y =</span> <span class="st">"Consumo Promedio"</span>) <span class="sc">+</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span>) <span class="sc">+</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico para el segundo día</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos_dia2, <span class="fu">aes</span>(<span class="at">x =</span> hora, <span class="at">y =</span> consumo_promedio)) <span class="sc">+</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"darkorange"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Promedio Hora -"</span>, dia2),</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Hora del día"</span>, <span class="at">y =</span> <span class="st">"Consumo Promedio"</span>) <span class="sc">+</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span>) <span class="sc">+</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Unir los gráficos en una fila</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>  layout <span class="ot">&lt;-</span> p1 <span class="sc">+</span> p2 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(layout)</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de uso: Comparar consumo entre martes y viernes</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_dia_vs_dia</span>(datos_limpiados, <span class="st">"martes"</span>, <span class="st">"viernes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="identificación-estadistica-y-eliminación-de-atipicos" class="level3" data-number="6.6">
<h3 data-number="6.6" class="anchored" data-anchor-id="identificación-estadistica-y-eliminación-de-atipicos"><span class="header-section-number">6.6</span> Identificación estadistica y eliminación de atipicos</h3>
<p>Inicialmente no es recomendable borrar los atipicos hasta asegurarnos de que no sean parte de un patron de comportamiento, en este caso dichos valores corresponden a datos puntuales que no representan patrones de comportamiento.</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar librerías necesarias</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>graficar_boxplot <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">height =</span> <span class="dv">2</span>) {</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">y =</span> consumo)) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">outlier.size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">10</span>) <span class="sc">+</span>  <span class="co"># Tamaño de fuente ajustado</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Boxplot de Consumo"</span>, <span class="at">y =</span> <span class="st">"Consumo"</span>) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>)  <span class="co"># Márgenes más compactos</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>)  <span class="co"># Evita que se recorten puntos</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(p)  <span class="co"># Mostrar el gráfico</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)  <span class="co"># Retornar el gráfico</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamar la función con tamaño ajustable</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="co"># resultados_boxplot &lt;- graficar_boxplot(datos_limpiados, width = 2, height = 2)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamar la función con tamaño ajustable</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>resultados_boxplot <span class="ot">&lt;-</span> <span class="fu">graficar_boxplot</span>(datos_limpiados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="192"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="segmentación-de-outliers" class="level3" data-number="6.7">
<h3 data-number="6.7" class="anchored" data-anchor-id="segmentación-de-outliers"><span class="header-section-number">6.7</span> Segmentación de outliers</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función para describir los outliers (superior e inferior)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>describir_outliers <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular los cuartiles y el rango intercuartílico (IQR)</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular los límites inferior y superior para los outliers</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  lower_bound <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  upper_bound <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filtrar los datos para los outliers</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  outliers_superior <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span> <span class="fu">filter</span>(consumo <span class="sc">&gt;</span> upper_bound)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  outliers_inferior <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span> <span class="fu">filter</span>(consumo <span class="sc">&lt;</span> lower_bound)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular conteo y porcentaje de outliers</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  total_datos <span class="ot">&lt;-</span> <span class="fu">nrow</span>(datos)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Tabla para los outliers superiores</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>  tabla_outliers_superior <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rango =</span> <span class="fu">paste</span>(upper_bound, <span class="st">"a"</span>, <span class="fu">max</span>(datos<span class="sc">$</span>consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conteo =</span> <span class="fu">nrow</span>(outliers_superior),</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">Porcentaje =</span> <span class="fu">round</span>( (<span class="fu">nrow</span>(outliers_superior) <span class="sc">/</span> total_datos) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Tabla para los outliers inferiores</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  tabla_outliers_inferior <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rango =</span> <span class="fu">paste</span>(<span class="fu">min</span>(datos<span class="sc">$</span>consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="st">"a"</span>, lower_bound),</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conteo =</span> <span class="fu">nrow</span>(outliers_inferior),</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">Porcentaje =</span> <span class="fu">round</span>(  (<span class="fu">nrow</span>(outliers_inferior) <span class="sc">/</span> total_datos) <span class="sc">*</span> <span class="dv">100</span> , <span class="dv">2</span>)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Devolver las dos tablas</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">outliers_superior =</span> tabla_outliers_superior,</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">outliers_inferior =</span> tabla_outliers_inferior</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Probar la función con el dataset</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>resultados_outliers <span class="ot">&lt;-</span> <span class="fu">describir_outliers</span>(datos_limpiados)</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver los resultados</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( resultados_outliers<span class="sc">$</span>outliers_superior )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f5280a04db97237a19a5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f5280a04db97237a19a5">{"x":{"filter":"none","vertical":false,"data":[["1"],["250 a 260"],[27],[1.3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Rango<\/th>\n      <th>Conteo<\/th>\n      <th>Porcentaje<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Rango","targets":1},{"name":"Conteo","targets":2},{"name":"Porcentaje","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( resultados_outliers<span class="sc">$</span>outliers_inferior )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ad1743d59842e8db2cba" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ad1743d59842e8db2cba">{"x":{"filter":"none","vertical":false,"data":[["1"],["0 a 98"],[4],[0.19]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Rango<\/th>\n      <th>Conteo<\/th>\n      <th>Porcentaje<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Rango","targets":1},{"name":"Conteo","targets":2},{"name":"Porcentaje","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="tabla-completa-de-outliers" class="level3" data-number="6.8">
<h3 data-number="6.8" class="anchored" data-anchor-id="tabla-completa-de-outliers"><span class="header-section-number">6.8</span> Tabla completa de outliers</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función para describir todos los outliers con la columna de rango</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>describir_outliers_con_rango <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular los cuartiles y el rango intercuartílico (IQR)</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular los límites inferior y superior para los outliers</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  lower_bound <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  upper_bound <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filtrar los outliers</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  outliers <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">rango_outlier =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>      consumo <span class="sc">&lt;</span> lower_bound <span class="sc">~</span> <span class="fu">paste</span>(<span class="st">"Inferior (&lt;"</span>, lower_bound, <span class="st">")"</span>),</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>      consumo <span class="sc">&gt;</span> upper_bound <span class="sc">~</span> <span class="fu">paste</span>(<span class="st">"Superior (&gt;"</span>, upper_bound, <span class="st">")"</span>),</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"No Outlier"</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(consumo <span class="sc">&lt;</span> lower_bound <span class="sc">|</span> consumo <span class="sc">&gt;</span> upper_bound)</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Devolver la tabla de outliers con rango</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(outliers)</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Probar la función con el dataset</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>tabla_outliers_con_rango <span class="ot">&lt;-</span> <span class="fu">describir_outliers_con_rango</span>(datos_limpiados)</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver los resultados</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( tabla_outliers_con_rango )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3709e77d7ed16cdeccd0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3709e77d7ed16cdeccd0">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],[2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024],["oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","nov","nov","nov","nov","nov","nov","nov","dic","dic","dic","dic","dic","dic"],[3,4,4,4,6,6,17,18,18,24,24,25,26,27,27,27,27,27,3,3,3,19,21,25,25,1,1,15,15,21,21],["jueves","viernes","viernes","viernes","domingo","domingo","jueves","viernes","viernes","jueves","jueves","viernes","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","martes","jueves","lunes","lunes","domingo","domingo","domingo","domingo","sábado","sábado"],[13,12,13,14,10,11,13,14,15,13,14,13,11,12,13,14,15,16,6,7,8,13,21,14,15,14,15,13,14,13,14],[251,256,252,252,254,259,260,259,251,251,252,252,252,253,258,259,259,254,0,0,22.3,257,44.4,252,251,257,255,252,251,252,255],["Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Inferior (&lt; 98 )","Inferior (&lt; 98 )","Inferior (&lt; 98 )","Superior (&gt; 250 )","Inferior (&lt; 98 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )","Superior (&gt; 250 )"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>año<\/th>\n      <th>mes<\/th>\n      <th>dia<\/th>\n      <th>dia_sem<\/th>\n      <th>hora<\/th>\n      <th>consumo<\/th>\n      <th>rango_outlier<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,5,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"año","targets":1},{"name":"mes","targets":2},{"name":"dia","targets":3},{"name":"dia_sem","targets":4},{"name":"hora","targets":5},{"name":"consumo","targets":6},{"name":"rango_outlier","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="distribución-de-outliers-todos-los-rangos" class="level3" data-number="6.9">
<h3 data-number="6.9" class="anchored" data-anchor-id="distribución-de-outliers-todos-los-rangos"><span class="header-section-number">6.9</span> Distribución de outliers (todos los rangos)</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)  <span class="co"># Para organizar los gráficos en una fila</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)     <span class="co"># Para formato de porcentaje</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>analizar_outliers_horarios_dias_distribucion <span class="ot">&lt;-</span> <span class="cf">function</span>(datos) {</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Validar que las columnas necesarias existen</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  columnas_requeridas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"año"</span>, <span class="st">"mes"</span>, <span class="st">"dia"</span>, <span class="st">"dia_sem"</span>, <span class="st">"hora"</span>, <span class="st">"consumo"</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">all</span>(columnas_requeridas <span class="sc">%in%</span> <span class="fu">colnames</span>(datos))) {</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El dataset debe contener las columnas: año, mes, dia, dia_sem, hora y consumo"</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular límites de outliers usando IQR</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  lower_bound <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  upper_bound <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Agregar columna de detección de outliers</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">es_outlier =</span> consumo <span class="sc">&lt;</span> lower_bound <span class="sc">|</span> consumo <span class="sc">&gt;</span> upper_bound)</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 📌 1️⃣ Proporción de outliers por hora del día</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  df_outliers_hora <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(hora) <span class="sc">%&gt;%</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">proporcion_outliers =</span> <span class="fu">mean</span>(es_outlier, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_outliers_hora, <span class="fu">aes</span>(<span class="at">x =</span> hora, <span class="at">y =</span> proporcion_outliers)) <span class="sc">+</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span> </span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Frecuencia de Outliers por Hora del Día"</span>,</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Hora del día"</span>,</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Proporción de Outliers"</span>) <span class="sc">+</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 📌 2️⃣ Proporción de outliers por día de la semana</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>  df_outliers_dia <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(dia_sem) <span class="sc">%&gt;%</span></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">proporcion_outliers =</span> <span class="fu">mean</span>(es_outlier, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ordenar días de la semana correctamente</span></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>  niveles_dia_sem <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lunes"</span>, <span class="st">"martes"</span>, <span class="st">"miércoles"</span>, <span class="st">"jueves"</span>, <span class="st">"viernes"</span>, <span class="st">"sábado"</span>, <span class="st">"domingo"</span>)</span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>  df_outliers_dia<span class="sc">$</span>dia_sem <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_outliers_dia<span class="sc">$</span>dia_sem, <span class="at">levels =</span> niveles_dia_sem)</span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_outliers_dia, <span class="fu">aes</span>(<span class="at">x =</span> dia_sem, <span class="at">y =</span> proporcion_outliers)) <span class="sc">+</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Frecuencia de Outliers por Día de la Semana"</span>,</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Día de la semana"</span>,</span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Proporción de Outliers"</span>) <span class="sc">+</span></span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 📌 3️⃣ Distribución de los valores de los outliers</span></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a>  df_outliers <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(es_outlier <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a>  p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_outliers, <span class="fu">aes</span>(<span class="at">x =</span> consumo)) <span class="sc">+</span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"darkred"</span>, <span class="at">bins =</span> <span class="dv">20</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución de Valores de Outliers"</span>,</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Consumo (solo outliers)"</span>,</span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mostrar los 3 gráficos en una misma fila</span></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a>  final_plot <span class="ot">&lt;-</span> p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(final_plot)  <span class="co"># Mostrar el gráfico combinado</span></span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>  <span class="co">#return(final_plot) # Retornar el gráfico si se quiere guardar</span></span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar la función con el dataset</span></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a><span class="fu">analizar_outliers_horarios_dias_distribucion</span>(datos_limpiados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="distribucion-de-outliers-por-rango" class="level3" data-number="6.10">
<h3 data-number="6.10" class="anchored" data-anchor-id="distribucion-de-outliers-por-rango"><span class="header-section-number">6.10</span> Distribucion de outliers por rango</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función ajustada para analizar outliers de un rango específico</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>analizar_outliers_rango <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, <span class="at">rango =</span> <span class="st">"superior"</span>) {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Validar que las columnas necesarias existen</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  columnas_requeridas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"año"</span>, <span class="st">"mes"</span>, <span class="st">"dia"</span>, <span class="st">"dia_sem"</span>, <span class="st">"hora"</span>, <span class="st">"consumo"</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">all</span>(columnas_requeridas <span class="sc">%in%</span> <span class="fu">colnames</span>(datos))) {</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El dataset debe contener las columnas: año, mes, dia, dia_sem, hora y consumo"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular límites de outliers usando IQR</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>consumo, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  IQR <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  lower_bound <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  upper_bound <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filtrar según el rango de outliers solicitado</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (rango <span class="sc">==</span> <span class="st">"superior"</span>) {</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">es_outlier =</span> consumo <span class="sc">&gt;</span> upper_bound) <span class="sc">%&gt;%</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(es_outlier <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (rango <span class="sc">==</span> <span class="st">"inferior"</span>) {</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">es_outlier =</span> consumo <span class="sc">&lt;</span> lower_bound) <span class="sc">%&gt;%</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(es_outlier <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El rango debe ser 'superior' o 'inferior'."</span>)</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 📌 1️⃣ Proporción de outliers por hora del día</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>  df_outliers_hora <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(hora) <span class="sc">%&gt;%</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">proporcion_outliers =</span> <span class="fu">mean</span>(es_outlier, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_outliers_hora, <span class="fu">aes</span>(<span class="at">x =</span> hora, <span class="at">y =</span> proporcion_outliers)) <span class="sc">+</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span> </span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Frecuencia de Outliers por Hora del Día ("</span>, rango, <span class="st">")"</span>, <span class="at">sep =</span> <span class="st">""</span>),</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Hora del día"</span>,</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Proporción de Outliers"</span>) <span class="sc">+</span></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 📌 2️⃣ Proporción de outliers por día de la semana</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>  df_outliers_dia <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(dia_sem) <span class="sc">%&gt;%</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">proporcion_outliers =</span> <span class="fu">mean</span>(es_outlier, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ordenar días de la semana correctamente</span></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>  niveles_dia_sem <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lunes"</span>, <span class="st">"martes"</span>, <span class="st">"miércoles"</span>, <span class="st">"jueves"</span>, <span class="st">"viernes"</span>, <span class="st">"sábado"</span>, <span class="st">"domingo"</span>)</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>  df_outliers_dia<span class="sc">$</span>dia_sem <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_outliers_dia<span class="sc">$</span>dia_sem, <span class="at">levels =</span> niveles_dia_sem)</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>  p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_outliers_dia, <span class="fu">aes</span>(<span class="at">x =</span> dia_sem, <span class="at">y =</span> proporcion_outliers)) <span class="sc">+</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Frecuencia de Outliers por Día de la Semana ("</span>, rango, <span class="st">")"</span>, <span class="at">sep =</span> <span class="st">""</span>),</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Día de la semana"</span>,</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Proporción de Outliers"</span>) <span class="sc">+</span></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 📌 3️⃣ Distribución de los valores de los outliers</span></span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>  p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> consumo)) <span class="sc">+</span></span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"darkred"</span>, <span class="at">bins =</span> <span class="dv">20</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribución de Valores de Outliers ("</span>, rango, <span class="st">")"</span>, <span class="at">sep =</span> <span class="st">""</span>),</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Consumo (solo outliers)"</span>,</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mostrar los 3 gráficos en una misma fila</span></span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>  final_plot <span class="ot">&lt;-</span> p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(final_plot)  <span class="co"># Mostrar el gráfico combinado</span></span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a>  <span class="co">#return(final_plot) # Retornar el gráfico si se quiere guardar</span></span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar la función con el dataset y el rango 'superior' o 'inferior'</span></span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a><span class="fu">analizar_outliers_rango</span>(datos_limpiados, <span class="at">rango =</span> <span class="st">"superior"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">analizar_outliers_rango</span>(datos_limpiados, <span class="at">rango =</span> <span class="st">"inferior"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="eliminacion-de-outliers" class="level3" data-number="6.11">
<h3 data-number="6.11" class="anchored" data-anchor-id="eliminacion-de-outliers"><span class="header-section-number">6.11</span> Eliminacion de outliers</h3>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminacion de outliers (si aplica) #####</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>eliminar_outliers <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, <span class="at">columna =</span> <span class="st">"consumo"</span>) {</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcular cuartiles y rango intercuartílico</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos[[columna]], <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos[[columna]], <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  IQR_value <span class="ot">&lt;-</span> Q3 <span class="sc">-</span> Q1</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Definir límites para detectar outliers</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  limite_inferior <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR_value</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  limite_superior <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR_value</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filtrar datos dentro de los límites</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  datos_sin_outliers <span class="ot">&lt;-</span> datos[datos[[columna]] <span class="sc">&gt;=</span> limite_inferior <span class="sc">&amp;</span> datos[[columna]] <span class="sc">&lt;=</span> limite_superior, ]</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datos_sin_outliers)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Línea de prueba</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>datos_limpios_NA_OUT <span class="ot">&lt;-</span> <span class="fu">eliminar_outliers</span>(datos_limpiados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamada a la función</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>analisis_consumo_NA_OUT <span class="ot">&lt;-</span> <span class="fu">analisis_exploratorio_consumo</span>(datos_limpios_NA_OUT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="comparativo-descripcion-de-datos" class="level3" data-number="6.12">
<h3 data-number="6.12" class="anchored" data-anchor-id="comparativo-descripcion-de-datos"><span class="header-section-number">6.12</span> Comparativo descripcion de datos</h3>
<p>Con outliers</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar la tabla con los resultados</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( analisis_consumo )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-29e3866074e786b5c31e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-29e3866074e786b5c31e">{"x":{"filter":"none","vertical":false,"data":[["1"],[0],[155],[172],[175.74],[193],[260],[260],[38],[29.7],[16.9],[4.37],[0.23]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Minimo<\/th>\n      <th>Q1<\/th>\n      <th>Mediana<\/th>\n      <th>Media<\/th>\n      <th>Q3<\/th>\n      <th>Maximo<\/th>\n      <th>Rango<\/th>\n      <th>Rango_Intercuartilico<\/th>\n      <th>Desviacion_Estandar<\/th>\n      <th>Coef_Variacion<\/th>\n      <th>Curtosis<\/th>\n      <th>Asimetria<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Minimo","targets":1},{"name":"Q1","targets":2},{"name":"Mediana","targets":3},{"name":"Media","targets":4},{"name":"Q3","targets":5},{"name":"Maximo","targets":6},{"name":"Rango","targets":7},{"name":"Rango_Intercuartilico","targets":8},{"name":"Desviacion_Estandar","targets":9},{"name":"Coef_Variacion","targets":10},{"name":"Curtosis","targets":11},{"name":"Asimetria","targets":12}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>sin outliers</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( analisis_consumo_NA_OUT )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-27f3c5e42e19ea564e9b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-27f3c5e42e19ea564e9b">{"x":{"filter":"none","vertical":false,"data":[["1"],[105],[155],[172],[175.02],[192],[250],[145],[37],[27.63],[15.79],[2.78],[0.46]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Minimo<\/th>\n      <th>Q1<\/th>\n      <th>Mediana<\/th>\n      <th>Media<\/th>\n      <th>Q3<\/th>\n      <th>Maximo<\/th>\n      <th>Rango<\/th>\n      <th>Rango_Intercuartilico<\/th>\n      <th>Desviacion_Estandar<\/th>\n      <th>Coef_Variacion<\/th>\n      <th>Curtosis<\/th>\n      <th>Asimetria<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Minimo","targets":1},{"name":"Q1","targets":2},{"name":"Mediana","targets":3},{"name":"Media","targets":4},{"name":"Q3","targets":5},{"name":"Maximo","targets":6},{"name":"Rango","targets":7},{"name":"Rango_Intercuartilico","targets":8},{"name":"Desviacion_Estandar","targets":9},{"name":"Coef_Variacion","targets":10},{"name":"Curtosis","targets":11},{"name":"Asimetria","targets":12}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="preparación-para-identificacion-de-grupos-normalización" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="preparación-para-identificacion-de-grupos-normalización"><span class="header-section-number">7</span> Preparación para Identificacion de Grupos (Normalización)</h2>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalizar los datos de consumo (Z score mantiene la distribucion de los datos) #####</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>normalizar_consumo <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, <span class="at">metodo =</span> <span class="st">"zscore"</span>) {</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verificar si la columna 'consumo' existe</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="st">"consumo"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(datos)) {</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"El dataset no contiene la columna 'consumo'."</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Normalizar según el método elegido</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"zscore"</span>) {</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">consumo_normalizado =</span> (consumo <span class="sc">-</span> <span class="fu">mean</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">/</span> <span class="fu">sd</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"minmax"</span>) {</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">consumo_normalizado =</span> (consumo <span class="sc">-</span> <span class="fu">min</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">/</span> </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>               (<span class="fu">max</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> <span class="fu">min</span>(consumo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Método no válido. Usa 'zscore' o 'minmax'."</span>)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datos)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de uso:</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>datos_normalizados <span class="ot">&lt;-</span> <span class="fu">normalizar_consumo</span>(datos_limpios_NA_OUT, <span class="at">metodo =</span> <span class="st">"zscore"</span>)</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>( <span class="fu">head</span>(datos_normalizados) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8a1f2f6cfd81f83d782c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8a1f2f6cfd81f83d782c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[2024,2024,2024,2024,2024,2024],["oct","oct","oct","oct","oct","oct"],[1,1,1,1,1,1],["martes","martes","martes","martes","martes","martes"],[0,1,2,3,4,5],[152,152,153,151,147,148],[-0.8330733963703442,-0.8330733963703442,-0.7968781962477364,-0.869268596492952,-1.014049396983383,-0.9778541968607752]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>año<\/th>\n      <th>mes<\/th>\n      <th>dia<\/th>\n      <th>dia_sem<\/th>\n      <th>hora<\/th>\n      <th>consumo<\/th>\n      <th>consumo_normalizado<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"año","targets":1},{"name":"mes","targets":2},{"name":"dia","targets":3},{"name":"dia_sem","targets":4},{"name":"hora","targets":5},{"name":"consumo","targets":6},{"name":"consumo_normalizado","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="calculo-del-numero-optimo-de-grupos" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="calculo-del-numero-optimo-de-grupos"><span class="header-section-number">8</span> Calculo del numero Optimo de Grupos</h2>
<p>Estadisticos de calculo</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Librerías necesarias</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Función para calcular K óptimo y generar gráfico</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>calcular_k_optimo_grafico <span class="ot">&lt;-</span> <span class="cf">function</span>(dataset, metodo, <span class="at">k_max =</span> <span class="dv">10</span>) {</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  datos <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> <span class="fu">select</span>(consumo_normalizado)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"codo"</span>) {</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    wss <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>k_max, <span class="cf">function</span>(k) {</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">kmeans</span>(datos, <span class="at">centers =</span> k, <span class="at">nstart =</span> <span class="dv">10</span>)<span class="sc">$</span>tot.withinss</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    df_wss <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">K =</span> <span class="dv">1</span><span class="sc">:</span>k_max, <span class="at">WSS =</span> wss)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    grafico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_wss, <span class="fu">aes</span>(<span class="at">x =</span> K, <span class="at">y =</span> WSS)) <span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Método del Codo"</span>) <span class="sc">+</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">xlab</span>(<span class="st">"Número de Clusters"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Suma de cuadrados intra-cluster"</span>)</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"silhouette"</span>) {</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>    sil_width <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">2</span><span class="sc">:</span>k_max, <span class="cf">function</span>(k) {</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>      km <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(datos, <span class="at">centers =</span> k, <span class="at">nstart =</span> <span class="dv">10</span>)</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mean</span>(<span class="fu">silhouette</span>(km<span class="sc">$</span>cluster, <span class="fu">dist</span>(datos))[, <span class="dv">3</span>])</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    df_sil <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">K =</span> <span class="dv">2</span><span class="sc">:</span>k_max, <span class="at">Silhouette =</span> sil_width)</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    grafico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_sil, <span class="fu">aes</span>(<span class="at">x =</span> K, <span class="at">y =</span> Silhouette)) <span class="sc">+</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Método de Silhouette"</span>) <span class="sc">+</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">xlab</span>(<span class="st">"Número de Clusters"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Coeficiente Silhouette Promedio"</span>)</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"gap_stat"</span>) {</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>    gap_stat <span class="ot">&lt;-</span> <span class="fu">clusGap</span>(datos, <span class="at">FUN =</span> kmeans, <span class="at">nstart =</span> <span class="dv">10</span>, <span class="at">K.max =</span> k_max, <span class="at">B =</span> <span class="dv">50</span>)</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>    grafico <span class="ot">&lt;-</span> <span class="fu">fviz_gap_stat</span>(gap_stat)</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Método no reconocido. Usa 'codo', 'silhouette' o 'gap_stat'"</span>)</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(grafico)</span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>calcular_k_optimo_tabla <span class="ot">&lt;-</span> <span class="cf">function</span>(dataset, metodo, <span class="at">k_max =</span> <span class="dv">10</span>) {</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>  datos <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> <span class="fu">select</span>(consumo_normalizado)</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"codo"</span>) {</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>    wss <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>k_max, <span class="cf">function</span>(k) {</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">kmeans</span>(datos, <span class="at">centers =</span> k, <span class="at">nstart =</span> <span class="dv">10</span>)<span class="sc">$</span>tot.withinss</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>    resultados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">K =</span> <span class="dv">1</span><span class="sc">:</span>k_max, <span class="at">WSS =</span> wss)</span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"silhouette"</span>) {</span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>    sil_width <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">2</span><span class="sc">:</span>k_max, <span class="cf">function</span>(k) {</span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>      km <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(datos, <span class="at">centers =</span> k, <span class="at">nstart =</span> <span class="dv">10</span>)</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mean</span>(<span class="fu">silhouette</span>(km<span class="sc">$</span>cluster, <span class="fu">dist</span>(datos))[, <span class="dv">3</span>])</span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a>    resultados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">K =</span> <span class="dv">2</span><span class="sc">:</span>k_max, <span class="at">Silhouette =</span> sil_width)</span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"gap_stat"</span>) {</span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a>    gap_stat <span class="ot">&lt;-</span> <span class="fu">clusGap</span>(datos, <span class="at">FUN =</span> kmeans, <span class="at">nstart =</span> <span class="dv">10</span>, <span class="at">K.max =</span> k_max, <span class="at">B =</span> <span class="dv">50</span>)</span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>    resultados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">K =</span> <span class="dv">1</span><span class="sc">:</span>k_max, <span class="at">GAP =</span> gap_stat<span class="sc">$</span>Tab[, <span class="st">"gap"</span>], <span class="at">SE =</span> gap_stat<span class="sc">$</span>Tab[, <span class="st">"SE.sim"</span>])</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Método no reconocido. Usa 'codo', 'silhouette' o 'gap_stat'"</span>)</span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(resultados, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>)) <span class="co"># No usar print()</span></span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Metodo del Codo</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamar las funciones con el dataset normalizado</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calcular_k_optimo_grafico</span>(datos_normalizados, <span class="at">metodo =</span> <span class="st">"codo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calcular_k_optimo_tabla</span>(datos_normalizados, <span class="at">metodo =</span> <span class="st">"codo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b3f89cd0dbd9fdce19a3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b3f89cd0dbd9fdce19a3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10"],[1,2,3,4,5,6,7,8,9,10],[2045.000000000003,703.8699790238795,331.5381306482419,203.7509927370683,126.5265463708984,87.40899853197641,63.98701202671906,52.44817000957621,43.28166235322082,35.82599970121262]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>K<\/th>\n      <th>WSS<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"K","targets":1},{"name":"WSS","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Metodo de Silhouette</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamar las funciones con el dataset normalizado</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calcular_k_optimo_grafico</span>(datos_normalizados, <span class="at">metodo =</span> <span class="st">"silhouette"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calcular_k_optimo_tabla</span>(datos_normalizados, <span class="at">metodo =</span> <span class="st">"silhouette"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0687f26ec23692cd95c2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0687f26ec23692cd95c2">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],[2,3,4,5,6,7,8,9,10],[0.5685764755470589,0.5538695785649335,0.5220299979384529,0.5513262484274863,0.5472615946537929,0.5408880908062373,0.556536117128706,0.5419490004546936,0.5436790545321208]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>K<\/th>\n      <th>Silhouette<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"K","targets":1},{"name":"Silhouette","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Metodo de gap_stat</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Llamar las funciones con el dataset normalizado</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calcular_k_optimo_grafico</span>(datos_normalizados, <span class="at">metodo =</span> <span class="st">"gap_stat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="LBen_Alg_Agrup_Estand_qhtml_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calcular_k_optimo_tabla</span>(datos_normalizados, <span class="at">metodo =</span> <span class="st">"gap_stat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-98dfe3a1aa8c60e4c38a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-98dfe3a1aa8c60e4c38a">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10"],[1,2,3,4,5,6,7,8,9,10],[0.4415928675610488,0.2848365758015179,0.252133744920136,0.2090995229379207,0.2249678317450075,0.2152746426013907,0.239614075823261,0.1950842329285409,0.1694426351275462,0.146400309714708],[0.01027601590421244,0.009473507940159009,0.01017416431526012,0.009627065467200709,0.008323512014195934,0.007027769508700456,0.008105500750318911,0.007955698959826016,0.007393486583020054,0.007312583264155343]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>K<\/th>\n      <th>GAP<\/th>\n      <th>SE<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"K","targets":1},{"name":"GAP","targets":2},{"name":"SE","targets":3}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Numero optimo de grupos</p>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función para recomendar el número óptimo de clusters #####</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>determinar_num_clusters <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">max_k =</span> <span class="dv">10</span>) {</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Elbow Method (WCSS - Within Cluster Sum of Squares)</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  elbow <span class="ot">&lt;-</span> <span class="fu">fviz_nbclust</span>(data, kmeans, <span class="at">method =</span> <span class="st">"wss"</span>, <span class="at">k.max =</span> max_k)<span class="sc">$</span>data</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  opt_k_elbow <span class="ot">&lt;-</span> <span class="fu">which.max</span>(<span class="fu">diff</span>(<span class="fu">diff</span>(elbow<span class="sc">$</span>y))) <span class="sc">+</span> <span class="dv">1</span>  <span class="co"># Encontrar el "codo"</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Silhouette Method</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  silhouette <span class="ot">&lt;-</span> <span class="fu">fviz_nbclust</span>(data, kmeans, <span class="at">method =</span> <span class="st">"silhouette"</span>, <span class="at">k.max =</span> max_k)<span class="sc">$</span>data</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  opt_k_silhouette <span class="ot">&lt;-</span> silhouette<span class="sc">$</span>clusters[<span class="fu">which.max</span>(silhouette<span class="sc">$</span>y)]</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gap Statistic</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>  gap_stat <span class="ot">&lt;-</span> <span class="fu">clusGap</span>(data, <span class="at">FUN =</span> kmeans, <span class="at">K.max =</span> max_k, <span class="at">B =</span> <span class="dv">50</span>)</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>  opt_k_gap <span class="ot">&lt;-</span> <span class="fu">maxSE</span>(gap_stat<span class="sc">$</span>Tab[, <span class="st">"gap"</span>], gap_stat<span class="sc">$</span>Tab[, <span class="st">"SE.sim"</span>])  <span class="co"># Regla de 1SE</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Crear tabla con los resultados de cada métrica</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>  resultados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">Metodo =</span> <span class="fu">c</span>(<span class="st">"Elbow"</span>, <span class="st">"Silhouette"</span>, <span class="st">"Gap Statistic"</span>),</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">K_Optimo =</span> <span class="fu">c</span>(opt_k_elbow, opt_k_silhouette, opt_k_gap)</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ranking de número de clusters (basado en cuántas veces aparece cada valor)</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>  ranking <span class="ot">&lt;-</span> resultados <span class="sc">%&gt;%</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(K_Optimo, <span class="at">name =</span> <span class="st">"Frecuencia"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(Frecuencia), K_Optimo)</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Retornar las tablas para su visualización en Quarto</span></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">Resultados =</span> resultados, <span class="at">Ranking =</span> ranking, <span class="at">Gap_Stat =</span> gap_stat)</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar la función con datos normalizados</span></span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">determinar_num_clusters</span>(datos_normalizados[, <span class="st">"consumo_normalizado"</span>])</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar tablas en Quarto</span></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a>resultado<span class="sc">$</span>Resultados <span class="sc">|&gt;</span> DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d47557e477f9dd5c16f9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d47557e477f9dd5c16f9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["Elbow","Silhouette","Gap Statistic"],[2,2,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Metodo<\/th>\n      <th>K_Optimo<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Metodo","targets":1},{"name":"K_Optimo","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>resultado<span class="sc">$</span>Ranking <span class="sc">|&gt;</span> DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8ae55b94d76deb3699a0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8ae55b94d76deb3699a0">{"x":{"filter":"none","vertical":false,"data":[["1","2"],[2,1],[2,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>K_Optimo<\/th>\n      <th>Frecuencia<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"K_Optimo","targets":1},{"name":"Frecuencia","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="creación-de-grupos" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="creación-de-grupos"><span class="header-section-number">9</span> Creación de Grupos</h2>
<div class="cell">
<details class="code-fold">
<summary>Mostrar código</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función para aplicar clustering#####</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar librerías necesarias</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dbscan)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>aplicar_clustering <span class="ot">&lt;-</span> <span class="cf">function</span>(datos, num_clusters, <span class="at">metodo =</span> <span class="st">"kmeans"</span>) {</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Seleccionar solo la variable de consumo normalizado para la agrupación</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  datos_clustering <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span> <span class="fu">select</span>(consumo_normalizado)</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aplicar el algoritmo de clustering según el método seleccionado</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"kmeans"</span>) {</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    modelo <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(datos_clustering, <span class="at">centers =</span> num_clusters, <span class="at">nstart =</span> <span class="dv">25</span>)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    datos<span class="sc">$</span>cluster <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(modelo<span class="sc">$</span>cluster)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"hclust"</span>) {</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    distancia <span class="ot">&lt;-</span> <span class="fu">dist</span>(datos_clustering, <span class="at">method =</span> <span class="st">"euclidean"</span>)</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    jerarquico <span class="ot">&lt;-</span> <span class="fu">hclust</span>(distancia, <span class="at">method =</span> <span class="st">"ward.D2"</span>)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    datos<span class="sc">$</span>cluster <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">cutree</span>(jerarquico, <span class="at">k =</span> num_clusters))</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (metodo <span class="sc">==</span> <span class="st">"dbscan"</span>) {</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dbscan)</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>    modelo <span class="ot">&lt;-</span> <span class="fu">dbscan</span>(datos_clustering, <span class="at">eps =</span> <span class="fl">0.2</span>, <span class="at">minPts =</span> <span class="dv">5</span>)</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>    datos<span class="sc">$</span>cluster <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(modelo<span class="sc">$</span>cluster)</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Método no soportado. Usa 'kmeans', 'hclust' o 'dbscan'."</span>)</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mostrar la tabla en formato DT</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>  tabla_resultado <span class="ot">&lt;-</span> <span class="fu">datatable</span>(datos, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>))</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(tabla_resultado)  <span class="co"># Mostrar la tabla</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datos)  <span class="co"># Retornar el dataset con la columna de cluster asignado</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejemplo de uso:</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>datos_clusterizados <span class="ot">&lt;-</span> <span class="fu">aplicar_clustering</span>(datos_normalizados, <span class="at">num_clusters =</span> <span class="dv">2</span>, <span class="at">metodo =</span> <span class="st">"kmeans"</span>)</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(datos_clusterizados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e2a7de37a22c61639611" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e2a7de37a22c61639611">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1042","1043","1044","1045","1046","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094","1095","1096","1097","1098","1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130","1131","1132","1133","1134","1135","1136","1137","1138","1139","1140","1141","1142","1143","1144","1145","1146","1147","1148","1149","1150","1151","1152","1153","1154","1155","1156","1157","1158","1159","1160","1161","1162","1163","1164","1165","1166","1167","1168","1169","1170","1171","1172","1173","1174","1175","1176","1177","1178","1179","1180","1181","1182","1183","1184","1185","1186","1187","1188","1189","1190","1191","1192","1193","1194","1195","1196","1197","1198","1199","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1220","1221","1222","1223","1224","1225","1226","1227","1228","1229","1230","1231","1232","1233","1234","1235","1236","1237","1238","1239","1240","1241","1242","1243","1244","1245","1246","1247","1248","1249","1250","1251","1252","1253","1254","1255","1256","1257","1258","1259","1260","1261","1262","1263","1264","1265","1266","1267","1268","1269","1270","1271","1272","1273","1274","1275","1276","1277","1278","1279","1280","1281","1282","1283","1284","1285","1286","1287","1288","1289","1290","1291","1292","1293","1294","1295","1296","1297","1298","1299","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","1320","1321","1322","1323","1324","1325","1326","1327","1328","1329","1330","1331","1332","1333","1334","1335","1336","1337","1338","1339","1340","1341","1342","1343","1344","1345","1346","1347","1348","1349","1350","1351","1352","1353","1354","1355","1356","1357","1358","1359","1360","1361","1362","1363","1364","1365","1366","1367","1368","1369","1370","1371","1372","1373","1374","1375","1376","1377","1378","1379","1380","1381","1382","1383","1384","1385","1386","1387","1388","1389","1390","1391","1392","1393","1394","1395","1396","1397","1398","1399","1400","1401","1402","1403","1404","1405","1406","1407","1408","1409","1410","1411","1412","1413","1414","1415","1416","1417","1418","1419","1420","1421","1422","1423","1424","1425","1426","1427","1428","1429","1430","1431","1432","1433","1434","1435","1436","1437","1438","1439","1440","1441","1442","1443","1444","1445","1446","1447","1448","1449","1450","1451","1452","1453","1454","1455","1456","1457","1458","1459","1460","1461","1462","1463","1464","1465","1466","1467","1468","1469","1470","1471","1472","1473","1474","1475","1476","1477","1478","1479","1480","1481","1482","1483","1484","1485","1486","1487","1488","1489","1490","1491","1492","1493","1494","1495","1496","1497","1498","1499","1500","1501","1502","1503","1504","1505","1506","1507","1508","1509","1510","1511","1512","1513","1514","1515","1516","1517","1518","1519","1520","1521","1522","1523","1524","1525","1526","1527","1528","1529","1530","1531","1532","1533","1534","1535","1536","1537","1538","1539","1540","1541","1542","1543","1544","1545","1546","1547","1548","1549","1550","1551","1552","1553","1554","1555","1556","1557","1558","1559","1560","1561","1562","1563","1564","1565","1566","1567","1568","1569","1570","1571","1572","1573","1574","1575","1576","1577","1578","1579","1580","1581","1582","1583","1584","1585","1586","1587","1588","1589","1590","1591","1592","1593","1594","1595","1596","1597","1598","1599","1600","1601","1602","1603","1604","1605","1606","1607","1608","1609","1610","1611","1612","1613","1614","1615","1616","1617","1618","1619","1620","1621","1622","1623","1624","1625","1626","1627","1628","1629","1630","1631","1632","1633","1634","1635","1636","1637","1638","1639","1640","1641","1642","1643","1644","1645","1646","1647","1648","1649","1650","1651","1652","1653","1654","1655","1656","1657","1658","1659","1660","1661","1662","1663","1664","1665","1666","1667","1668","1669","1670","1671","1672","1673","1674","1675","1676","1677","1678","1679","1680","1681","1682","1683","1684","1685","1686","1687","1688","1689","1690","1691","1692","1693","1694","1695","1696","1697","1698","1699","1700","1701","1702","1703","1704","1705","1706","1707","1708","1709","1710","1711","1712","1713","1714","1715","1716","1717","1718","1719","1720","1721","1722","1723","1724","1725","1726","1727","1728","1729","1730","1731","1732","1733","1734","1735","1736","1737","1738","1739","1740","1741","1742","1743","1744","1745","1746","1747","1748","1749","1750","1751","1752","1753","1754","1755","1756","1757","1758","1759","1760","1761","1762","1763","1764","1765","1766","1767","1768","1769","1770","1771","1772","1773","1774","1775","1776","1777","1778","1779","1780","1781","1782","1783","1784","1785","1786","1787","1788","1789","1790","1791","1792","1793","1794","1795","1796","1797","1798","1799","1800","1801","1802","1803","1804","1805","1806","1807","1808","1809","1810","1811","1812","1813","1814","1815","1816","1817","1818","1819","1820","1821","1822","1823","1824","1825","1826","1827","1828","1829","1830","1831","1832","1833","1834","1835","1836","1837","1838","1839","1840","1841","1842","1843","1844","1845","1846","1847","1848","1849","1850","1851","1852","1853","1854","1855","1856","1857","1858","1859","1860","1861","1862","1863","1864","1865","1866","1867","1868","1869","1870","1871","1872","1873","1874","1875","1876","1877","1878","1879","1880","1881","1882","1883","1884","1885","1886","1887","1888","1889","1890","1891","1892","1893","1894","1895","1896","1897","1898","1899","1900","1901","1902","1903","1904","1905","1906","1907","1908","1909","1910","1911","1912","1913","1914","1915","1916","1917","1918","1919","1920","1921","1922","1923","1924","1925","1926","1927","1928","1929","1930","1931","1932","1933","1934","1935","1936","1937","1938","1939","1940","1941","1942","1943","1944","1945","1946","1947","1948","1949","1950","1951","1952","1953","1954","1955","1956","1957","1958","1959","1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037","2038","2039","2040","2041","2042","2043","2044","2045","2046"],[2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024],["oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","oct","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","nov","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic","dic"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26],["martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","viernes","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","sábado","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","domingo","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","lunes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","martes","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","miércoles","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves","jueves"],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],[152,152,153,151,147,148,152,176,169,180,211,180,202,217,195,237,221,194,173,183,158,159,168,168,162,170,151,156,157,141,178,159,184,206,193,175,210,224,243,241,219,212,184,193,163,181,157,163,172,157,152,157,157,136,137,186,200,220,220,250,226,218,244,237,211,184,202,175,183,161,180,171,161,167,172,159,155,159,180,197,230,221,222,239,239,215,210,183,192,166,182,161,172,152,153,133,152,134,157,138,171,179,175,201,175,195,197,174,170,157,145,162,139,139,138,138,137,137,136,135,136,136,137,164,184,243,218,204,192,208,186,178,181,158,176,153,162,171,154,168,153,150,152,150,158,196,182,232,219,225,206,174,196,225,217,207,191,184,182,188,165,179,169,156,162,162,155,165,152,179,173,181,194,193,202,247,213,214,238,212,191,170,166,150,158,159,151,151,132,145,149,150,150,161,182,178,177,186,181,191,197,186,233,217,198,189,168,182,159,159,173,156,165,157,153,150,134,155,165,177,194,178,187,204,198,220,207,195,176,187,183,169,180,158,166,165,161,157,154,151,155,151,158,167,177,173,210,194,223,212,217,193,188,168,165,171,158,180,162,185,161,156,177,142,139,184,168,188,186,170,214,210,193,195,154,158,163,154,147,162,141,140,141,140,139,138,149,143,152,170,176,218,197,231,238,240,219,239,209,213,196,186,182,191,169,173,170,174,168,163,160,172,163,183,174,223,220,200,211,228,244,197,189,207,176,187,170,182,162,184,172,169,178,171,166,176,159,164,164,184,169,185,166,172,188,179,177,168,174,157,153,136,155,148,139,167,168,155,151,147,145,159,166,171,170,190,161,178,185,180,181,172,178,165,172,155,156,168,166,162,149,154,160,136,146,161,177,209,211,192,198,210,203,190,208,198,170,188,161,180,165,184,163,176,183,167,183,160,180,183,216,218,212,153,216,244,235,233,189,193,192,170,191,172,189,173,168,173,170,159,183,162,190,192,173,181,184,173,168,145,154,137,138,139,136,137,139,136,135,134,134,133,134,134,159,161,199,187,211,193,210,200,196,185,184,192,164,161,178,162,176,146,176,152,156,157,152,153,156,184,215,207,208,217,202,222,210,193,183,182,171,169,154,157,157,167,155,140,157,154,157,165,155,167,166,200,184,188,164,179,174,172,188,163,165,161,135,154,153,166,149,133,156,156,133,155,188,178,203,208,203,181,212,215,234,214,203,205,191,189,177,180,181,172,167,176,159,159,174,159,166,208,242,193,204,221,246,217,235,218,197,190,193,169,193,181,171,171,180,175,167,194,182,206,206,223,197,233,241,249,238,207,223,229,211,198,186,210,194,179,183,186,179,187,192,195,204,248,227,241,244,217,237,184,187,181,167,171,164,164,168,140,140,140,139,162,138,165,176,192,217,242,228,246,239,218,204,206,179,215,193,193,187,163,165,152,164,172,162,185,175,207,196,219,233,230,234,229,224,195,204,200,202,191,182,173,176,175,177,181,190,183,214,203,243,235,212,237,237,244,233,206,176,194,170,179,163,191,168,174,178,155,165,162,168,175,208,185,207,204,225,223,243,230,226,211,194,200,180,174,181,179,184,156,151,148,152,146,166,139,151,161,160,177,179,178,209,202,212,184,183,186,186,177,174,189,166,170,172,161,150,151,153,168,149,171,163,168,175,170,182,186,189,175,166,177,156,160,155,172,155,145,145,144,151,144,148,152,167,174,189,168,172,179,162,158,158,137,137,137,136,134,135,135,135,134,133,133,125,105,133,161,154,152,181,182,184,169,170,169,164,155,154,164,156,154,159,150,150,133,161,135,182,191,185,211,208,196,211,195,182,173,172,171,153,159,156,146,144,150,141,147,132,146,148,151,157,176,169,190,188,184,186,177,173,173,179,174,164,158,154,153,169,167,152,161,153,155,171,140,184,193,203,192,189,187,209,193,203,190,177,183,180,161,171,149,168,151,148,149,149,151,150,148,149,172,169,198,187,196,210,179,175,197,190,179,172,175,168,165,166,157,158,169,139,162,148,159,161,172,162,200,172,199,189,183,209,203,189,181,166,151,149,147,171,147,133,144,132,156,132,150,151,154,153,177,159,168,171,162,140,156,145,136,135,134,134,134,134,132,130,127,116,122,133,132,123,153,155,181,185,195,214,190,207,208,185,184,181,157,168,158,161,147,147,137,144,146,145,130,150,164,170,188,196,187,193,199,206,192,180,166,170,153,151,151,147,131,145,132,132,132,149,143,155,154,163,192,189,183,196,192,176,167,178,173,159,162,157,154,155,129,144,122,130,131,131,132,133,170,187,188,154,168,164,177,182,175,174,176,153,151,143,133,148,141,133,141,131,132,135,139,145,150,181,189,171,192,184,192,215,196,181,175,173,153,160,156,169,151,157,156,135,149,142,132,139,166,176,173,191,198,208,204,197,220,188,161,173,159,161,147,177,156,165,154,148,160,155,161,147,162,153,168,173,156,155,159,149,138,139,142,121,160,119,150,133,133,116,139,110,105,131,105,138,173,179,202,203,190,220,216,203,202,170,179,180,149,171,156,163,168,156,169,149,167,167,137,165,158,193,198,202,218,225,212,237,229,195,195,191,177,170,184,163,176,170,158,167,156,168,146,165,164,198,197,212,212,230,224,181,175,161,155,134,143,135,143,151,131,150,129,130,140,128,153,157,178,193,199,185,182,183,178,181,172,173,167,148,166,134,155,151,157,165,164,143,147,146,138,158,167,183,171,181,206,192,177,186,169,160,152,121,129,152,154,139,140,138,128,141,139,153,142,164,185,167,183,177,176,176,186,186,183,178,167,148,153,162,154,141,160,139,142,143,132,144,161,156,183,177,183,158,183,153,147,137,137,136,137,153,141,138,145,128,152,128,126,123,136,157,162,184,215,218,227,232,242,241,243,222,196,192,182,174,182,156,177,165,162,156,161,147,146,172,181,189,193,203,195,207,237,232,223,200,177,195,175,173,183,158,165,163,148,178,161,166,168,168,211,213,174,198,192,186,222,189,182,191,164,157,166,164,169,155,137,133,147,152,128,145,159,184,178,176,155,202,199,193,167,189,158,123,156,152,156,166,175,154,158,145,159,145,154,156,191,188,198,189,203,192,212,211,213,184,191,180,182,151,154,169,170,151,178,166,158,152,171,159,175,181,195,226,199,205,195,192,213,213,193,202,182,184,176,178,177,168,168,159,169,145,170,150,175,163,175,183,191,203,179,178,193,164,173,161,151,178,164,147,142,150,151,129,145,150,131,153,183,178,187,209,196,229,244,234,196,207,197,184,193,176,183,166,176,150,166,162,175,179,191,184,204,216,216,236,235,231,233,231,213,194,198,205,178,171,177,171,176,146,170,184,163,171,177,188,185,205,206,221,235,215,190,204,178,170,173,182,163,164,163,155,158,156,150,163,140,168,179,199,195,203,212,220,227,247,241,228,190,197,189,181,162,163,164,177,161,161,147,164,163,172,165,180,212,202,196,221,199,221,200,205,188,193,183,157,178,174,171,151,163,149,153,165,155,162,185,182,199,208,207,223,241,225,245,231,214,199,187,185,166,177,171,156,170,148,148,162,147,171,174,184,194,165,197,150,168,151,141,151,127,153,130,129,136,133,131,132,132,134,175,171,196,198,193,232,240,224,202,198,199,189,182,177,169,173,154,170,160,154,156,164,157,171,159,182,189,187,195,193,209,195,213,203,180,176,174,172,169,168,159,155,149,153,142,153,159,145,179,188,210,201,213,205,235,238,194,190,180,169,159,157,154,164,162,145,167,148,147,166,145,153,170,209,196,200,183,208,212,207,189,178,176,166,162,170,155,166,172,150,168,140,143,133,133,160,176,191,183,195,173,211,204,211,198,198,180,171,159,168,159,171,148,168,141,143,146,147,152,139,155,169,187,202,186,212,192,182,200,177,167,172,165,167,170,167,172,167,168,153,136,146,140,153,168,167,174,179,189,183,173,181,143,157,141,146,129,149,134,121,137,132,125,121,121,128,130,155,156,166,199,176,217,239,219,193,181,179,170,154,172,180,163,157,154,156,153,164,141,166,154,179,198,199,203,217,213,238,229,219,186,183,169,175,173,160,184,148,163,159,162,169,151,173,189,187,192,216,206,230,230,208,208,180,160,162,175,156,154,167,153,170,149,157,156,162,153,173,178,229,222,223,244,240,234,230,208,199,178,167,177,161,174,150,177,141,168,146,169,151,173,176,179,210,235,218,236,244,240,244,232,198,178,183,173,165,174,175,172,167,153,175,150,164,156,182,173,178,217,206,217,233,231,228,232,230,221,200,199,182,178,185,176,173,175,159,162,169,164,171,178,195,214,203,224,224,146,143,235,225,199,208,196,191,184,173,173,176,166,181,176,174,185,207,200,230,214,224,223,223,226,198,221,198,204,185,177,183,193,177,176,167,169,171,170,177,198,117,120,121,121,122,122,121,121,223,197,139,140,138,137,135,135,134,134,134,134,134,134,136,164,233,240,246,246,243,234,232,202,190,182,182,154,169,152,157,155,150,142,133,133,150,148,152,155,141,154,196,205,213,194,186,210,170,158,169,146,147,160,144,145,169,142,136,158,149,138,148,173,173,199,191,156,215,227,182,236],[-0.8330733963703442,-0.8330733963703442,-0.7968781962477364,-0.869268596492952,-1.014049396983383,-0.9778541968607752,-0.8330733963703442,0.03561140657224264,-0.2177549942860118,0.1803922070626738,1.302443410863515,0.1803922070626738,0.976686609760045,1.519614611599162,0.7233202089017905,2.243518614051317,1.664395412089593,0.6871250087791827,-0.07297419379558071,0.2889778074304971,-0.6159021956346975,-0.5797069955120897,-0.2539501944086196,-0.2539501944086196,-0.4711213951442663,-0.1815597941634041,-0.869268596492952,-0.688292595879913,-0.6520973957573052,-1.23122059771903,0.1080018068174582,-0.5797069955120897,0.3251730075531049,1.121467410250476,0.6509298086565749,-0.0005837935503651394,1.266248210740907,1.772981012457416,2.460689814786964,2.388299414541748,1.592005011844377,1.338638610986123,0.3251730075531049,0.6509298086565749,-0.4349261950216585,0.2165874071852815,-0.6520973957573052,-0.4349261950216585,-0.1091693939181885,-0.6520973957573052,-0.8330733963703442,-0.6520973957573052,-0.6520973957573052,-1.412196598332069,-1.376001398209461,0.3975634077983205,0.9042962095148295,1.628200211966985,1.628200211966985,2.714056215645219,1.845371412702632,1.55580981172177,2.496885014909572,2.243518614051317,1.302443410863515,0.3251730075531049,0.976686609760045,-0.0005837935503651394,0.2889778074304971,-0.5073165952668741,0.1803922070626738,-0.1453645940407963,-0.5073165952668741,-0.2901453945312274,-0.1091693939181885,-0.5797069955120897,-0.7244877960025208,-0.5797069955120897,0.1803922070626738,0.7957106091470061,1.990152213193063,1.664395412089593,1.700590612212201,2.315909014296533,2.315909014296533,1.447224211353946,1.266248210740907,0.2889778074304971,0.6147346085339672,-0.3263405946538352,0.2527826073078893,-0.5073165952668741,-0.1091693939181885,-0.8330733963703442,-0.7968781962477364,-1.520782198699892,-0.8330733963703442,-1.484586998577284,-0.6520973957573052,-1.339806198086853,-0.1453645940407963,0.144197006940066,-0.0005837935503651394,0.9404914096374373,-0.0005837935503651394,0.7233202089017905,0.7957106091470061,-0.03677899367297292,-0.1815597941634041,-0.6520973957573052,-1.086439797228599,-0.4711213951442663,-1.303610997964245,-1.303610997964245,-1.339806198086853,-1.339806198086853,-1.376001398209461,-1.376001398209461,-1.412196598332069,-1.448391798454676,-1.412196598332069,-1.412196598332069,-1.376001398209461,-0.3987309948990507,0.3251730075531049,2.460689814786964,1.55580981172177,1.049077010005261,0.6147346085339672,1.193857810495692,0.3975634077983205,0.1080018068174582,0.2165874071852815,-0.6159021956346975,0.03561140657224264,-0.7968781962477364,-0.4711213951442663,-0.1453645940407963,-0.7606829961251286,-0.2539501944086196,-0.7968781962477364,-0.9054637966155598,-0.8330733963703442,-0.9054637966155598,-0.6159021956346975,0.7595154090243983,0.2527826073078893,2.062542613438278,1.592005011844377,1.809176212580024,1.121467410250476,-0.03677899367297292,0.7595154090243983,1.809176212580024,1.519614611599162,1.157662610373084,0.5785394084113594,0.3251730075531049,0.2527826073078893,0.469953808043536,-0.362535794776443,0.144197006940066,-0.2177549942860118,-0.688292595879913,-0.4711213951442663,-0.4711213951442663,-0.7244877960025208,-0.362535794776443,-0.8330733963703442,0.144197006940066,-0.07297419379558071,0.2165874071852815,0.6871250087791827,0.6509298086565749,0.976686609760045,2.605470615277395,1.374833811108731,1.411029011231338,2.279713814173925,1.338638610986123,0.5785394084113594,-0.1815597941634041,-0.3263405946538352,-0.9054637966155598,-0.6159021956346975,-0.5797069955120897,-0.869268596492952,-0.869268596492952,-1.5569773988225,-1.086439797228599,-0.9416589967381676,-0.9054637966155598,-0.9054637966155598,-0.5073165952668741,0.2527826073078893,0.1080018068174582,0.07180660669485042,0.3975634077983205,0.2165874071852815,0.5785394084113594,0.7957106091470061,0.3975634077983205,2.098737813560886,1.519614611599162,0.8319058092696139,0.5061490081661438,-0.2539501944086196,0.2527826073078893,-0.5797069955120897,-0.5797069955120897,-0.07297419379558071,-0.688292595879913,-0.362535794776443,-0.6520973957573052,-0.7968781962477364,-0.9054637966155598,-1.484586998577284,-0.7244877960025208,-0.362535794776443,0.07180660669485042,0.6871250087791827,0.1080018068174582,0.4337586079209282,1.049077010005261,0.8319058092696139,1.628200211966985,1.157662610373084,0.7233202089017905,0.03561140657224264,0.4337586079209282,0.2889778074304971,-0.2177549942860118,0.1803922070626738,-0.6159021956346975,-0.3263405946538352,-0.362535794776443,-0.5073165952668741,-0.6520973957573052,-0.7606829961251286,-0.869268596492952,-0.7244877960025208,-0.869268596492952,-0.6159021956346975,-0.2901453945312274,0.07180660669485042,-0.07297419379558071,1.266248210740907,0.6871250087791827,1.736785812334809,1.338638610986123,1.519614611599162,0.6509298086565749,0.469953808043536,-0.2539501944086196,-0.362535794776443,-0.1453645940407963,-0.6159021956346975,0.1803922070626738,-0.4711213951442663,0.3613682076757127,-0.5073165952668741,-0.688292595879913,0.07180660669485042,-1.195025397596422,-1.303610997964245,0.3251730075531049,-0.2539501944086196,0.469953808043536,0.3975634077983205,-0.1815597941634041,1.411029011231338,1.266248210740907,0.6509298086565749,0.7233202089017905,-0.7606829961251286,-0.6159021956346975,-0.4349261950216585,-0.7606829961251286,-1.014049396983383,-0.4711213951442663,-1.23122059771903,-1.267415797841638,-1.23122059771903,-1.267415797841638,-1.303610997964245,-1.339806198086853,-0.9416589967381676,-1.158830197473814,-0.8330733963703442,-0.1815597941634041,0.03561140657224264,1.55580981172177,0.7957106091470061,2.026347413315671,2.279713814173925,2.352104214419141,1.592005011844377,2.315909014296533,1.230053010618299,1.374833811108731,0.7595154090243983,0.3975634077983205,0.2527826073078893,0.5785394084113594,-0.2177549942860118,-0.07297419379558071,-0.1815597941634041,-0.03677899367297292,-0.2539501944086196,-0.4349261950216585,-0.5435117953894819,-0.1091693939181885,-0.4349261950216585,0.2889778074304971,-0.03677899367297292,1.736785812334809,1.628200211966985,0.9042962095148295,1.302443410863515,1.917761812947847,2.496885014909572,0.7957106091470061,0.5061490081661438,1.157662610373084,0.03561140657224264,0.4337586079209282,-0.1815597941634041,0.2527826073078893,-0.4711213951442663,0.3251730075531049,-0.1091693939181885,-0.2177549942860118,0.1080018068174582,-0.1453645940407963,-0.3263405946538352,0.03561140657224264,-0.5797069955120897,-0.3987309948990507,-0.3987309948990507,0.3251730075531049,-0.2177549942860118,0.3613682076757127,-0.3263405946538352,-0.1091693939181885,0.469953808043536,0.144197006940066,0.07180660669485042,-0.2539501944086196,-0.03677899367297292,-0.6520973957573052,-0.7968781962477364,-1.412196598332069,-0.7244877960025208,-0.9778541968607752,-1.303610997964245,-0.2901453945312274,-0.2539501944086196,-0.7244877960025208,-0.869268596492952,-1.014049396983383,-1.086439797228599,-0.5797069955120897,-0.3263405946538352,-0.1453645940407963,-0.1815597941634041,0.5423442082887516,-0.5073165952668741,0.1080018068174582,0.3613682076757127,0.1803922070626738,0.2165874071852815,-0.1091693939181885,0.1080018068174582,-0.362535794776443,-0.1091693939181885,-0.7244877960025208,-0.688292595879913,-0.2539501944086196,-0.3263405946538352,-0.4711213951442663,-0.9416589967381676,-0.7606829961251286,-0.5435117953894819,-1.412196598332069,-1.050244597105991,-0.5073165952668741,0.07180660669485042,1.230053010618299,1.302443410863515,0.6147346085339672,0.8319058092696139,1.266248210740907,1.012881809882653,0.5423442082887516,1.193857810495692,0.8319058092696139,-0.1815597941634041,0.469953808043536,-0.5073165952668741,0.1803922070626738,-0.362535794776443,0.3251730075531049,-0.4349261950216585,0.03561140657224264,0.2889778074304971,-0.2901453945312274,0.2889778074304971,-0.5435117953894819,0.1803922070626738,0.2889778074304971,1.483419411476554,1.55580981172177,1.338638610986123,-0.7968781962477364,1.483419411476554,2.496885014909572,2.171128213806102,2.098737813560886,0.5061490081661438,0.6509298086565749,0.6147346085339672,-0.1815597941634041,0.5785394084113594,-0.1091693939181885,0.5061490081661438,-0.07297419379558071,-0.2539501944086196,-0.07297419379558071,-0.1815597941634041,-0.5797069955120897,0.2889778074304971,-0.4711213951442663,0.5423442082887516,0.6147346085339672,-0.07297419379558071,0.2165874071852815,0.3251730075531049,-0.07297419379558071,-0.2539501944086196,-1.086439797228599,-0.7606829961251286,-1.376001398209461,-1.339806198086853,-1.303610997964245,-1.412196598332069,-1.376001398209461,-1.303610997964245,-1.412196598332069,-1.448391798454676,-1.484586998577284,-1.484586998577284,-1.520782198699892,-1.484586998577284,-1.484586998577284,-0.5797069955120897,-0.5073165952668741,0.8681010093922217,0.4337586079209282,1.302443410863515,0.6509298086565749,1.266248210740907,0.9042962095148295,0.7595154090243983,0.3613682076757127,0.3251730075531049,0.6147346085339672,-0.3987309948990507,-0.5073165952668741,0.1080018068174582,-0.4711213951442663,0.03561140657224264,-1.050244597105991,0.03561140657224264,-0.8330733963703442,-0.688292595879913,-0.6520973957573052,-0.8330733963703442,-0.7968781962477364,-0.688292595879913,0.3251730075531049,1.447224211353946,1.157662610373084,1.193857810495692,1.519614611599162,0.976686609760045,1.700590612212201,1.266248210740907,0.6509298086565749,0.2889778074304971,0.2527826073078893,-0.1453645940407963,-0.2177549942860118,-0.7606829961251286,-0.6520973957573052,-0.6520973957573052,-0.2901453945312274,-0.7244877960025208,-1.267415797841638,-0.6520973957573052,-0.7606829961251286,-0.6520973957573052,-0.362535794776443,-0.7244877960025208,-0.2901453945312274,-0.3263405946538352,0.9042962095148295,0.3251730075531049,0.469953808043536,-0.3987309948990507,0.144197006940066,-0.03677899367297292,-0.1091693939181885,0.469953808043536,-0.4349261950216585,-0.362535794776443,-0.5073165952668741,-1.448391798454676,-0.7606829961251286,-0.7968781962477364,-0.3263405946538352,-0.9416589967381676,-1.520782198699892,-0.688292595879913,-0.688292595879913,-1.520782198699892,-0.7244877960025208,0.469953808043536,0.1080018068174582,1.012881809882653,1.193857810495692,1.012881809882653,0.2165874071852815,1.338638610986123,1.447224211353946,2.134933013683494,1.411029011231338,1.012881809882653,1.085272210127868,0.5785394084113594,0.5061490081661438,0.07180660669485042,0.1803922070626738,0.2165874071852815,-0.1091693939181885,-0.2901453945312274,0.03561140657224264,-0.5797069955120897,-0.5797069955120897,-0.03677899367297292,-0.5797069955120897,-0.3263405946538352,1.193857810495692,2.424494614664356,0.6509298086565749,1.049077010005261,1.664395412089593,2.569275415154788,1.519614611599162,2.171128213806102,1.55580981172177,0.7957106091470061,0.5423442082887516,0.6509298086565749,-0.2177549942860118,0.6509298086565749,0.2165874071852815,-0.1453645940407963,-0.1453645940407963,0.1803922070626738,-0.0005837935503651394,-0.2901453945312274,0.6871250087791827,0.2527826073078893,1.121467410250476,1.121467410250476,1.736785812334809,0.7957106091470061,2.098737813560886,2.388299414541748,2.677861015522611,2.279713814173925,1.157662610373084,1.736785812334809,1.953957013070455,1.302443410863515,0.8319058092696139,0.3975634077983205,1.266248210740907,0.6871250087791827,0.144197006940066,0.2889778074304971,0.3975634077983205,0.144197006940066,0.4337586079209282,0.6147346085339672,0.7233202089017905,1.049077010005261,2.641665815400003,1.88156661282524,2.388299414541748,2.496885014909572,1.519614611599162,2.243518614051317,0.3251730075531049,0.4337586079209282,0.2165874071852815,-0.2901453945312274,-0.1453645940407963,-0.3987309948990507,-0.3987309948990507,-0.2539501944086196,-1.267415797841638,-1.267415797841638,-1.267415797841638,-1.303610997964245,-0.4711213951442663,-1.339806198086853,-0.362535794776443,0.03561140657224264,0.6147346085339672,1.519614611599162,2.424494614664356,1.917761812947847,2.569275415154788,2.315909014296533,1.55580981172177,1.049077010005261,1.121467410250476,0.144197006940066,1.447224211353946,0.6509298086565749,0.6509298086565749,0.4337586079209282,-0.4349261950216585,-0.362535794776443,-0.8330733963703442,-0.3987309948990507,-0.1091693939181885,-0.4711213951442663,0.3613682076757127,-0.0005837935503651394,1.157662610373084,0.7595154090243983,1.592005011844377,2.098737813560886,1.990152213193063,2.134933013683494,1.953957013070455,1.772981012457416,0.7233202089017905,1.049077010005261,0.9042962095148295,0.976686609760045,0.5785394084113594,0.2527826073078893,-0.07297419379558071,0.03561140657224264,-0.0005837935503651394,0.07180660669485042,0.2165874071852815,0.5423442082887516,0.2889778074304971,1.411029011231338,1.012881809882653,2.460689814786964,2.171128213806102,1.338638610986123,2.243518614051317,2.243518614051317,2.496885014909572,2.098737813560886,1.121467410250476,0.03561140657224264,0.6871250087791827,-0.1815597941634041,0.144197006940066,-0.4349261950216585,0.5785394084113594,-0.2539501944086196,-0.03677899367297292,0.1080018068174582,-0.7244877960025208,-0.362535794776443,-0.4711213951442663,-0.2539501944086196,-0.0005837935503651394,1.193857810495692,0.3613682076757127,1.157662610373084,1.049077010005261,1.809176212580024,1.736785812334809,2.460689814786964,1.990152213193063,1.845371412702632,1.302443410863515,0.6871250087791827,0.9042962095148295,0.1803922070626738,-0.03677899367297292,0.2165874071852815,0.144197006940066,0.3251730075531049,-0.688292595879913,-0.869268596492952,-0.9778541968607752,-0.8330733963703442,-1.050244597105991,-0.3263405946538352,-1.303610997964245,-0.869268596492952,-0.5073165952668741,-0.5435117953894819,0.07180660669485042,0.144197006940066,0.1080018068174582,1.230053010618299,0.976686609760045,1.338638610986123,0.3251730075531049,0.2889778074304971,0.3975634077983205,0.3975634077983205,0.07180660669485042,-0.03677899367297292,0.5061490081661438,-0.3263405946538352,-0.1815597941634041,-0.1091693939181885,-0.5073165952668741,-0.9054637966155598,-0.869268596492952,-0.7968781962477364,-0.2539501944086196,-0.9416589967381676,-0.1453645940407963,-0.4349261950216585,-0.2539501944086196,-0.0005837935503651394,-0.1815597941634041,0.2527826073078893,0.3975634077983205,0.5061490081661438,-0.0005837935503651394,-0.3263405946538352,0.07180660669485042,-0.688292595879913,-0.5435117953894819,-0.7244877960025208,-0.1091693939181885,-0.7244877960025208,-1.086439797228599,-1.086439797228599,-1.122634997351206,-0.869268596492952,-1.122634997351206,-0.9778541968607752,-0.8330733963703442,-0.2901453945312274,-0.03677899367297292,0.5061490081661438,-0.2539501944086196,-0.1091693939181885,0.144197006940066,-0.4711213951442663,-0.6159021956346975,-0.6159021956346975,-1.376001398209461,-1.376001398209461,-1.376001398209461,-1.412196598332069,-1.484586998577284,-1.448391798454676,-1.448391798454676,-1.448391798454676,-1.484586998577284,-1.520782198699892,-1.520782198699892,-1.810343799680754,-2.53424780213291,-1.520782198699892,-0.5073165952668741,-0.7606829961251286,-0.8330733963703442,0.2165874071852815,0.2527826073078893,0.3251730075531049,-0.2177549942860118,-0.1815597941634041,-0.2177549942860118,-0.3987309948990507,-0.7244877960025208,-0.7606829961251286,-0.3987309948990507,-0.688292595879913,-0.7606829961251286,-0.5797069955120897,-0.9054637966155598,-0.9054637966155598,-1.520782198699892,-0.5073165952668741,-1.448391798454676,0.2527826073078893,0.5785394084113594,0.3613682076757127,1.302443410863515,1.193857810495692,0.7595154090243983,1.302443410863515,0.7233202089017905,0.2527826073078893,-0.07297419379558071,-0.1091693939181885,-0.1453645940407963,-0.7968781962477364,-0.5797069955120897,-0.688292595879913,-1.050244597105991,-1.122634997351206,-0.9054637966155598,-1.23122059771903,-1.014049396983383,-1.5569773988225,-1.050244597105991,-0.9778541968607752,-0.869268596492952,-0.6520973957573052,0.03561140657224264,-0.2177549942860118,0.5423442082887516,0.469953808043536,0.3251730075531049,0.3975634077983205,0.07180660669485042,-0.07297419379558071,-0.07297419379558071,0.144197006940066,-0.03677899367297292,-0.3987309948990507,-0.6159021956346975,-0.7606829961251286,-0.7968781962477364,-0.2177549942860118,-0.2901453945312274,-0.8330733963703442,-0.5073165952668741,-0.7968781962477364,-0.7244877960025208,-0.1453645940407963,-1.267415797841638,0.3251730075531049,0.6509298086565749,1.012881809882653,0.6147346085339672,0.5061490081661438,0.4337586079209282,1.230053010618299,0.6509298086565749,1.012881809882653,0.5423442082887516,0.07180660669485042,0.2889778074304971,0.1803922070626738,-0.5073165952668741,-0.1453645940407963,-0.9416589967381676,-0.2539501944086196,-0.869268596492952,-0.9778541968607752,-0.9416589967381676,-0.9416589967381676,-0.869268596492952,-0.9054637966155598,-0.9778541968607752,-0.9416589967381676,-0.1091693939181885,-0.2177549942860118,0.8319058092696139,0.4337586079209282,0.7595154090243983,1.266248210740907,0.144197006940066,-0.0005837935503651394,0.7957106091470061,0.5423442082887516,0.144197006940066,-0.1091693939181885,-0.0005837935503651394,-0.2539501944086196,-0.362535794776443,-0.3263405946538352,-0.6520973957573052,-0.6159021956346975,-0.2177549942860118,-1.303610997964245,-0.4711213951442663,-0.9778541968607752,-0.5797069955120897,-0.5073165952668741,-0.1091693939181885,-0.4711213951442663,0.9042962095148295,-0.1091693939181885,0.8681010093922217,0.5061490081661438,0.2889778074304971,1.230053010618299,1.012881809882653,0.5061490081661438,0.2165874071852815,-0.3263405946538352,-0.869268596492952,-0.9416589967381676,-1.014049396983383,-0.1453645940407963,-1.014049396983383,-1.520782198699892,-1.122634997351206,-1.5569773988225,-0.688292595879913,-1.5569773988225,-0.9054637966155598,-0.869268596492952,-0.7606829961251286,-0.7968781962477364,0.07180660669485042,-0.5797069955120897,-0.2539501944086196,-0.1453645940407963,-0.4711213951442663,-1.267415797841638,-0.688292595879913,-1.086439797228599,-1.412196598332069,-1.448391798454676,-1.484586998577284,-1.484586998577284,-1.484586998577284,-1.484586998577284,-1.5569773988225,-1.629367799067715,-1.737953399435539,-2.136100600784224,-1.918929400048578,-1.520782198699892,-1.5569773988225,-1.88273419992597,-0.7968781962477364,-0.7244877960025208,0.2165874071852815,0.3613682076757127,0.7233202089017905,1.411029011231338,0.5423442082887516,1.157662610373084,1.193857810495692,0.3613682076757127,0.3251730075531049,0.2165874071852815,-0.6520973957573052,-0.2539501944086196,-0.6159021956346975,-0.5073165952668741,-1.014049396983383,-1.014049396983383,-1.376001398209461,-1.122634997351206,-1.050244597105991,-1.086439797228599,-1.629367799067715,-0.9054637966155598,-0.3987309948990507,-0.1815597941634041,0.469953808043536,0.7595154090243983,0.4337586079209282,0.6509298086565749,0.8681010093922217,1.121467410250476,0.6147346085339672,0.1803922070626738,-0.3263405946538352,-0.1815597941634041,-0.7968781962477364,-0.869268596492952,-0.869268596492952,-1.014049396983383,-1.593172598945108,-1.086439797228599,-1.5569773988225,-1.5569773988225,-1.5569773988225,-0.9416589967381676,-1.158830197473814,-0.7244877960025208,-0.7606829961251286,-0.4349261950216585,0.6147346085339672,0.5061490081661438,0.2889778074304971,0.7595154090243983,0.6147346085339672,0.03561140657224264,-0.2901453945312274,0.1080018068174582,-0.07297419379558071,-0.5797069955120897,-0.4711213951442663,-0.6520973957573052,-0.7606829961251286,-0.7244877960025208,-1.665562999190323,-1.122634997351206,-1.918929400048578,-1.629367799067715,-1.593172598945108,-1.593172598945108,-1.5569773988225,-1.520782198699892,-0.1815597941634041,0.4337586079209282,0.469953808043536,-0.7606829961251286,-0.2539501944086196,-0.3987309948990507,0.07180660669485042,0.2527826073078893,-0.0005837935503651394,-0.03677899367297292,0.03561140657224264,-0.7968781962477364,-0.869268596492952,-1.158830197473814,-1.520782198699892,-0.9778541968607752,-1.23122059771903,-1.520782198699892,-1.23122059771903,-1.593172598945108,-1.5569773988225,-1.448391798454676,-1.303610997964245,-1.086439797228599,-0.9054637966155598,0.2165874071852815,0.5061490081661438,-0.1453645940407963,0.6147346085339672,0.3251730075531049,0.6147346085339672,1.447224211353946,0.7595154090243983,0.2165874071852815,-0.0005837935503651394,-0.07297419379558071,-0.7968781962477364,-0.5435117953894819,-0.688292595879913,-0.2177549942860118,-0.869268596492952,-0.6520973957573052,-0.688292595879913,-1.448391798454676,-0.9416589967381676,-1.195025397596422,-1.5569773988225,-1.303610997964245,-0.3263405946538352,0.03561140657224264,-0.07297419379558071,0.5785394084113594,0.8319058092696139,1.193857810495692,1.049077010005261,0.7957106091470061,1.628200211966985,0.469953808043536,-0.5073165952668741,-0.07297419379558071,-0.5797069955120897,-0.5073165952668741,-1.014049396983383,0.07180660669485042,-0.688292595879913,-0.362535794776443,-0.7606829961251286,-0.9778541968607752,-0.5435117953894819,-0.7244877960025208,-0.5073165952668741,-1.014049396983383,-0.4711213951442663,-0.7968781962477364,-0.2539501944086196,-0.07297419379558071,-0.688292595879913,-0.7244877960025208,-0.5797069955120897,-0.9416589967381676,-1.339806198086853,-1.303610997964245,-1.195025397596422,-1.955124600171186,-0.5435117953894819,-2.027515000416401,-0.9054637966155598,-1.520782198699892,-1.520782198699892,-2.136100600784224,-1.303610997964245,-2.353271801519871,-2.53424780213291,-1.593172598945108,-2.53424780213291,-1.339806198086853,-0.07297419379558071,0.144197006940066,0.976686609760045,1.012881809882653,0.5423442082887516,1.628200211966985,1.483419411476554,1.012881809882653,0.976686609760045,-0.1815597941634041,0.144197006940066,0.1803922070626738,-0.9416589967381676,-0.1453645940407963,-0.688292595879913,-0.4349261950216585,-0.2539501944086196,-0.688292595879913,-0.2177549942860118,-0.9416589967381676,-0.2901453945312274,-0.2901453945312274,-1.376001398209461,-0.362535794776443,-0.6159021956346975,0.6509298086565749,0.8319058092696139,0.976686609760045,1.55580981172177,1.809176212580024,1.338638610986123,2.243518614051317,1.953957013070455,0.7233202089017905,0.7233202089017905,0.5785394084113594,0.07180660669485042,-0.1815597941634041,0.3251730075531049,-0.4349261950216585,0.03561140657224264,-0.1815597941634041,-0.6159021956346975,-0.2901453945312274,-0.688292595879913,-0.2539501944086196,-1.050244597105991,-0.362535794776443,-0.3987309948990507,0.8319058092696139,0.7957106091470061,1.338638610986123,1.338638610986123,1.990152213193063,1.772981012457416,0.2165874071852815,-0.0005837935503651394,-0.5073165952668741,-0.7244877960025208,-1.484586998577284,-1.158830197473814,-1.448391798454676,-1.158830197473814,-0.869268596492952,-1.593172598945108,-0.9054637966155598,-1.665562999190323,-1.629367799067715,-1.267415797841638,-1.701758199312931,-0.7968781962477364,-0.6520973957573052,0.1080018068174582,0.6509298086565749,0.8681010093922217,0.3613682076757127,0.2527826073078893,0.2889778074304971,0.1080018068174582,0.2165874071852815,-0.1091693939181885,-0.07297419379558071,-0.2901453945312274,-0.9778541968607752,-0.3263405946538352,-1.484586998577284,-0.7244877960025208,-0.869268596492952,-0.6520973957573052,-0.362535794776443,-0.3987309948990507,-1.158830197473814,-1.014049396983383,-1.050244597105991,-1.339806198086853,-0.6159021956346975,-0.2901453945312274,0.2889778074304971,-0.1453645940407963,0.2165874071852815,1.121467410250476,0.6147346085339672,0.07180660669485042,0.3975634077983205,-0.2177549942860118,-0.5435117953894819,-0.8330733963703442,-1.955124600171186,-1.665562999190323,-0.8330733963703442,-0.7606829961251286,-1.303610997964245,-1.267415797841638,-1.339806198086853,-1.701758199312931,-1.23122059771903,-1.303610997964245,-0.7968781962477364,-1.195025397596422,-0.3987309948990507,0.3613682076757127,-0.2901453945312274,0.2889778074304971,0.07180660669485042,0.03561140657224264,0.03561140657224264,0.3975634077983205,0.3975634077983205,0.2889778074304971,0.1080018068174582,-0.2901453945312274,-0.9778541968607752,-0.7968781962477364,-0.4711213951442663,-0.7606829961251286,-1.23122059771903,-0.5435117953894819,-1.303610997964245,-1.195025397596422,-1.158830197473814,-1.5569773988225,-1.122634997351206,-0.5073165952668741,-0.688292595879913,0.2889778074304971,0.07180660669485042,0.2889778074304971,-0.6159021956346975,0.2889778074304971,-0.7968781962477364,-1.014049396983383,-1.376001398209461,-1.376001398209461,-1.412196598332069,-1.376001398209461,-0.7968781962477364,-1.23122059771903,-1.339806198086853,-1.086439797228599,-1.701758199312931,-0.8330733963703442,-1.701758199312931,-1.774148599558147,-1.88273419992597,-1.412196598332069,-0.6520973957573052,-0.4711213951442663,0.3251730075531049,1.447224211353946,1.55580981172177,1.88156661282524,2.062542613438278,2.424494614664356,2.388299414541748,2.460689814786964,1.700590612212201,0.7595154090243983,0.6147346085339672,0.2527826073078893,-0.03677899367297292,0.2527826073078893,-0.688292595879913,0.07180660669485042,-0.362535794776443,-0.4711213951442663,-0.688292595879913,-0.5073165952668741,-1.014049396983383,-1.050244597105991,-0.1091693939181885,0.2165874071852815,0.5061490081661438,0.6509298086565749,1.012881809882653,0.7233202089017905,1.157662610373084,2.243518614051317,2.062542613438278,1.736785812334809,0.9042962095148295,0.07180660669485042,0.7233202089017905,-0.0005837935503651394,-0.07297419379558071,0.2889778074304971,-0.6159021956346975,-0.362535794776443,-0.4349261950216585,-0.9778541968607752,0.1080018068174582,-0.5073165952668741,-0.3263405946538352,-0.2539501944086196,-0.2539501944086196,1.302443410863515,1.374833811108731,-0.03677899367297292,0.8319058092696139,0.6147346085339672,0.3975634077983205,1.700590612212201,0.5061490081661438,0.2527826073078893,0.5785394084113594,-0.3987309948990507,-0.6520973957573052,-0.3263405946538352,-0.3987309948990507,-0.2177549942860118,-0.7244877960025208,-1.376001398209461,-1.520782198699892,-1.014049396983383,-0.8330733963703442,-1.701758199312931,-1.086439797228599,-0.5797069955120897,0.3251730075531049,0.1080018068174582,0.03561140657224264,-0.7244877960025208,0.976686609760045,0.8681010093922217,0.6509298086565749,-0.2901453945312274,0.5061490081661438,-0.6159021956346975,-1.88273419992597,-0.688292595879913,-0.8330733963703442,-0.688292595879913,-0.3263405946538352,-0.0005837935503651394,-0.7606829961251286,-0.6159021956346975,-1.086439797228599,-0.5797069955120897,-1.086439797228599,-0.7606829961251286,-0.688292595879913,0.5785394084113594,0.469953808043536,0.8319058092696139,0.5061490081661438,1.012881809882653,0.6147346085339672,1.338638610986123,1.302443410863515,1.374833811108731,0.3251730075531049,0.5785394084113594,0.1803922070626738,0.2527826073078893,-0.869268596492952,-0.7606829961251286,-0.2177549942860118,-0.1815597941634041,-0.869268596492952,0.1080018068174582,-0.3263405946538352,-0.6159021956346975,-0.8330733963703442,-0.1453645940407963,-0.5797069955120897,-0.0005837935503651394,0.2165874071852815,0.7233202089017905,1.845371412702632,0.8681010093922217,1.085272210127868,0.7233202089017905,0.6147346085339672,1.374833811108731,1.374833811108731,0.6509298086565749,0.976686609760045,0.2527826073078893,0.3251730075531049,0.03561140657224264,0.1080018068174582,0.07180660669485042,-0.2539501944086196,-0.2539501944086196,-0.5797069955120897,-0.2177549942860118,-1.086439797228599,-0.1815597941634041,-0.9054637966155598,-0.0005837935503651394,-0.4349261950216585,-0.0005837935503651394,0.2889778074304971,0.5785394084113594,1.012881809882653,0.144197006940066,0.1080018068174582,0.6509298086565749,-0.3987309948990507,-0.07297419379558071,-0.5073165952668741,-0.869268596492952,0.1080018068174582,-0.3987309948990507,-1.014049396983383,-1.195025397596422,-0.9054637966155598,-0.869268596492952,-1.665562999190323,-1.086439797228599,-0.9054637966155598,-1.593172598945108,-0.7968781962477364,0.2889778074304971,0.1080018068174582,0.4337586079209282,1.230053010618299,0.7595154090243983,1.953957013070455,2.496885014909572,2.134933013683494,0.7595154090243983,1.157662610373084,0.7957106091470061,0.3251730075531049,0.6509298086565749,0.03561140657224264,0.2889778074304971,-0.3263405946538352,0.03561140657224264,-0.9054637966155598,-0.3263405946538352,-0.4711213951442663,-0.0005837935503651394,0.144197006940066,0.5785394084113594,0.3251730075531049,1.049077010005261,1.483419411476554,1.483419411476554,2.20732341392871,2.171128213806102,2.026347413315671,2.098737813560886,2.026347413315671,1.374833811108731,0.6871250087791827,0.8319058092696139,1.085272210127868,0.1080018068174582,-0.1453645940407963,0.07180660669485042,-0.1453645940407963,0.03561140657224264,-1.050244597105991,-0.1815597941634041,0.3251730075531049,-0.4349261950216585,-0.1453645940407963,0.07180660669485042,0.469953808043536,0.3613682076757127,1.085272210127868,1.121467410250476,1.664395412089593,2.171128213806102,1.447224211353946,0.5423442082887516,1.049077010005261,0.1080018068174582,-0.1815597941634041,-0.07297419379558071,0.2527826073078893,-0.4349261950216585,-0.3987309948990507,-0.4349261950216585,-0.7244877960025208,-0.6159021956346975,-0.688292595879913,-0.9054637966155598,-0.4349261950216585,-1.267415797841638,-0.2539501944086196,0.144197006940066,0.8681010093922217,0.7233202089017905,1.012881809882653,1.338638610986123,1.628200211966985,1.88156661282524,2.605470615277395,2.388299414541748,1.917761812947847,0.5423442082887516,0.7957106091470061,0.5061490081661438,0.2165874071852815,-0.4711213951442663,-0.4349261950216585,-0.3987309948990507,0.07180660669485042,-0.5073165952668741,-0.5073165952668741,-1.014049396983383,-0.3987309948990507,-0.4349261950216585,-0.1091693939181885,-0.362535794776443,0.1803922070626738,1.338638610986123,0.976686609760045,0.7595154090243983,1.664395412089593,0.8681010093922217,1.664395412089593,0.9042962095148295,1.085272210127868,0.469953808043536,0.6509298086565749,0.2889778074304971,-0.6520973957573052,0.1080018068174582,-0.03677899367297292,-0.1453645940407963,-0.869268596492952,-0.4349261950216585,-0.9416589967381676,-0.7968781962477364,-0.362535794776443,-0.7244877960025208,-0.4711213951442663,0.3613682076757127,0.2527826073078893,0.8681010093922217,1.193857810495692,1.157662610373084,1.736785812334809,2.388299414541748,1.809176212580024,2.53308021503218,2.026347413315671,1.411029011231338,0.8681010093922217,0.4337586079209282,0.3613682076757127,-0.3263405946538352,0.07180660669485042,-0.1453645940407963,-0.688292595879913,-0.1815597941634041,-0.9778541968607752,-0.9778541968607752,-0.4711213951442663,-1.014049396983383,-0.1453645940407963,-0.03677899367297292,0.3251730075531049,0.6871250087791827,-0.362535794776443,0.7957106091470061,-0.9054637966155598,-0.2539501944086196,-0.869268596492952,-1.23122059771903,-0.869268596492952,-1.737953399435539,-0.7968781962477364,-1.629367799067715,-1.665562999190323,-1.412196598332069,-1.520782198699892,-1.593172598945108,-1.5569773988225,-1.5569773988225,-1.484586998577284,-0.0005837935503651394,-0.1453645940407963,0.7595154090243983,0.8319058092696139,0.6509298086565749,2.062542613438278,2.352104214419141,1.772981012457416,0.976686609760045,0.8319058092696139,0.8681010093922217,0.5061490081661438,0.2527826073078893,0.07180660669485042,-0.2177549942860118,-0.07297419379558071,-0.7606829961251286,-0.1815597941634041,-0.5435117953894819,-0.7606829961251286,-0.688292595879913,-0.3987309948990507,-0.6520973957573052,-0.1453645940407963,-0.5797069955120897,0.2527826073078893,0.5061490081661438,0.4337586079209282,0.7233202089017905,0.6509298086565749,1.230053010618299,0.7233202089017905,1.374833811108731,1.012881809882653,0.1803922070626738,0.03561140657224264,-0.03677899367297292,-0.1091693939181885,-0.2177549942860118,-0.2539501944086196,-0.5797069955120897,-0.7244877960025208,-0.9416589967381676,-0.7968781962477364,-1.195025397596422,-0.7968781962477364,-0.5797069955120897,-1.086439797228599,0.144197006940066,0.469953808043536,1.266248210740907,0.9404914096374373,1.374833811108731,1.085272210127868,2.171128213806102,2.279713814173925,0.6871250087791827,0.5423442082887516,0.1803922070626738,-0.2177549942860118,-0.5797069955120897,-0.6520973957573052,-0.7606829961251286,-0.3987309948990507,-0.4711213951442663,-1.086439797228599,-0.2901453945312274,-0.9778541968607752,-1.014049396983383,-0.3263405946538352,-1.086439797228599,-0.7968781962477364,-0.1815597941634041,1.230053010618299,0.7595154090243983,0.9042962095148295,0.2889778074304971,1.193857810495692,1.338638610986123,1.157662610373084,0.5061490081661438,0.1080018068174582,0.03561140657224264,-0.3263405946538352,-0.4711213951442663,-0.1815597941634041,-0.7244877960025208,-0.3263405946538352,-0.1091693939181885,-0.9054637966155598,-0.2539501944086196,-1.267415797841638,-1.158830197473814,-1.520782198699892,-1.520782198699892,-0.5435117953894819,0.03561140657224264,0.5785394084113594,0.2889778074304971,0.7233202089017905,-0.07297419379558071,1.302443410863515,1.049077010005261,1.302443410863515,0.8319058092696139,0.8319058092696139,0.1803922070626738,-0.1453645940407963,-0.5797069955120897,-0.2539501944086196,-0.5797069955120897,-0.1453645940407963,-0.9778541968607752,-0.2539501944086196,-1.23122059771903,-1.158830197473814,-1.050244597105991,-1.014049396983383,-0.8330733963703442,-1.303610997964245,-0.7244877960025208,-0.2177549942860118,0.4337586079209282,0.976686609760045,0.3975634077983205,1.338638610986123,0.6147346085339672,0.2527826073078893,0.9042962095148295,0.07180660669485042,-0.2901453945312274,-0.1091693939181885,-0.362535794776443,-0.2901453945312274,-0.1815597941634041,-0.2901453945312274,-0.1091693939181885,-0.2901453945312274,-0.2539501944086196,-0.7968781962477364,-1.412196598332069,-1.050244597105991,-1.267415797841638,-0.7968781962477364,-0.2539501944086196,-0.2901453945312274,-0.03677899367297292,0.144197006940066,0.5061490081661438,0.2889778074304971,-0.07297419379558071,0.2165874071852815,-1.158830197473814,-0.6520973957573052,-1.23122059771903,-1.050244597105991,-1.665562999190323,-0.9416589967381676,-1.484586998577284,-1.955124600171186,-1.376001398209461,-1.5569773988225,-1.810343799680754,-1.955124600171186,-1.955124600171186,-1.701758199312931,-1.629367799067715,-0.7244877960025208,-0.688292595879913,-0.3263405946538352,0.8681010093922217,0.03561140657224264,1.519614611599162,2.315909014296533,1.592005011844377,0.6509298086565749,0.2165874071852815,0.144197006940066,-0.1815597941634041,-0.7606829961251286,-0.1091693939181885,0.1803922070626738,-0.4349261950216585,-0.6520973957573052,-0.7606829961251286,-0.688292595879913,-0.7968781962477364,-0.3987309948990507,-1.23122059771903,-0.3263405946538352,-0.7606829961251286,0.144197006940066,0.8319058092696139,0.8681010093922217,1.012881809882653,1.519614611599162,1.374833811108731,2.279713814173925,1.953957013070455,1.592005011844377,0.3975634077983205,0.2889778074304971,-0.2177549942860118,-0.0005837935503651394,-0.07297419379558071,-0.5435117953894819,0.3251730075531049,-0.9778541968607752,-0.4349261950216585,-0.5797069955120897,-0.4711213951442663,-0.2177549942860118,-0.869268596492952,-0.07297419379558071,0.5061490081661438,0.4337586079209282,0.6147346085339672,1.483419411476554,1.121467410250476,1.990152213193063,1.990152213193063,1.193857810495692,1.193857810495692,0.1803922070626738,-0.5435117953894819,-0.4711213951442663,-0.0005837935503651394,-0.688292595879913,-0.7606829961251286,-0.2901453945312274,-0.7968781962477364,-0.1815597941634041,-0.9416589967381676,-0.6520973957573052,-0.688292595879913,-0.4711213951442663,-0.7968781962477364,-0.07297419379558071,0.1080018068174582,1.953957013070455,1.700590612212201,1.736785812334809,2.496885014909572,2.352104214419141,2.134933013683494,1.990152213193063,1.193857810495692,0.8681010093922217,0.1080018068174582,-0.2901453945312274,0.07180660669485042,-0.5073165952668741,-0.03677899367297292,-0.9054637966155598,0.07180660669485042,-1.23122059771903,-0.2539501944086196,-1.050244597105991,-0.2177549942860118,-0.869268596492952,-0.07297419379558071,0.03561140657224264,0.144197006940066,1.266248210740907,2.171128213806102,1.55580981172177,2.20732341392871,2.496885014909572,2.352104214419141,2.496885014909572,2.062542613438278,0.8319058092696139,0.1080018068174582,0.2889778074304971,-0.07297419379558071,-0.362535794776443,-0.03677899367297292,-0.0005837935503651394,-0.1091693939181885,-0.2901453945312274,-0.7968781962477364,-0.0005837935503651394,-0.9054637966155598,-0.3987309948990507,-0.688292595879913,0.2527826073078893,-0.07297419379558071,0.1080018068174582,1.519614611599162,1.121467410250476,1.519614611599162,2.098737813560886,2.026347413315671,1.917761812947847,2.062542613438278,1.990152213193063,1.664395412089593,0.9042962095148295,0.8681010093922217,0.2527826073078893,0.1080018068174582,0.3613682076757127,0.03561140657224264,-0.07297419379558071,-0.0005837935503651394,-0.5797069955120897,-0.4711213951442663,-0.2177549942860118,-0.3987309948990507,-0.1453645940407963,0.1080018068174582,0.7233202089017905,1.411029011231338,1.012881809882653,1.772981012457416,1.772981012457416,-1.050244597105991,-1.158830197473814,2.171128213806102,1.809176212580024,0.8681010093922217,1.193857810495692,0.7595154090243983,0.5785394084113594,0.3251730075531049,-0.07297419379558071,-0.07297419379558071,0.03561140657224264,-0.3263405946538352,0.2165874071852815,0.03561140657224264,-0.03677899367297292,0.3613682076757127,1.157662610373084,0.9042962095148295,1.990152213193063,1.411029011231338,1.772981012457416,1.736785812334809,1.736785812334809,1.845371412702632,0.8319058092696139,1.664395412089593,0.8319058092696139,1.049077010005261,0.3613682076757127,0.07180660669485042,0.2889778074304971,0.6509298086565749,0.07180660669485042,0.03561140657224264,-0.2901453945312274,-0.2177549942860118,-0.1453645940407963,-0.1815597941634041,0.07180660669485042,0.8319058092696139,-2.099905400661616,-1.991319800293793,-1.955124600171186,-1.955124600171186,-1.918929400048578,-1.918929400048578,-1.955124600171186,-1.955124600171186,1.736785812334809,0.7957106091470061,-1.303610997964245,-1.267415797841638,-1.339806198086853,-1.376001398209461,-1.448391798454676,-1.448391798454676,-1.484586998577284,-1.484586998577284,-1.484586998577284,-1.484586998577284,-1.484586998577284,-1.484586998577284,-1.412196598332069,-0.3987309948990507,2.098737813560886,2.352104214419141,2.569275415154788,2.569275415154788,2.460689814786964,2.134933013683494,2.062542613438278,0.976686609760045,0.5423442082887516,0.2527826073078893,0.2527826073078893,-0.7606829961251286,-0.2177549942860118,-0.8330733963703442,-0.6520973957573052,-0.7244877960025208,-0.9054637966155598,-1.195025397596422,-1.520782198699892,-1.520782198699892,-0.9054637966155598,-0.9778541968607752,-0.8330733963703442,-0.7244877960025208,-1.23122059771903,-0.7606829961251286,0.7595154090243983,1.085272210127868,1.374833811108731,0.6871250087791827,0.3975634077983205,1.266248210740907,-0.1815597941634041,-0.6159021956346975,-0.2177549942860118,-1.050244597105991,-1.014049396983383,-0.5435117953894819,-1.122634997351206,-1.086439797228599,-0.2177549942860118,-1.195025397596422,-1.412196598332069,-0.6159021956346975,-0.9416589967381676,-1.339806198086853,-0.9778541968607752,-0.07297419379558071,-0.07297419379558071,0.8681010093922217,0.5785394084113594,-0.688292595879913,1.447224211353946,1.88156661282524,0.2527826073078893,2.20732341392871],["1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","1","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","1","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","2","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","1","1","1","1","2","1","1","1","1","1","2","1","2","2","1","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","2","2","2","2","1","2","1","2","1","2","1","1","1","1","1","1","1","1","1","2","1","2","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","2","1","1","1","2","1","1","2","1","2","1","1","2","2","2","2","1","2","2","2","2","2","2","2","1","2","1","2","1","1","1","1","1","2","1","2","2","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","2","2","2","2","2","2","2","1","1","2","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","1","2","2","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","1","2","2","1","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","2","2","2","2","1","1","1","1","1","1","2","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","2","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","1","1","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","1","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","1","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","1","1","2","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","1","1","1","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","2","1","1","2","1","1","1","1","1","1","1","1","1","2","2","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","1","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","2","1","1","1","2","2","2","2","2","2","2","2","2","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","1","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","1","1","1","1","2","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","1","1","2","1","1","2","2","2","2","2","2","2","2","2","2","2","2","1","2","1","1","1","1","1","1","1","1","1","2","2","2","2","2","1","1","2","2","2","2","2","2","2","1","1","1","1","2","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","1","2","2","1","1","1","1","1","1","1","2","1","1","1","1","1","1","1","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","1","2","2","2","2"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>año<\/th>\n      <th>mes<\/th>\n      <th>dia<\/th>\n      <th>dia_sem<\/th>\n      <th>hora<\/th>\n      <th>consumo<\/th>\n      <th>consumo_normalizado<\/th>\n      <th>cluster<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"año","targets":1},{"name":"mes","targets":2},{"name":"dia","targets":3},{"name":"dia_sem","targets":4},{"name":"hora","targets":5},{"name":"consumo","targets":6},{"name":"consumo_normalizado","targets":7},{"name":"cluster","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="validación-de-grupos" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="validación-de-grupos"><span class="header-section-number">9.1</span> Validación de Grupos</h3>
</section>
<section id="exploracion-e-interpretación-de-grupos" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="exploracion-e-interpretación-de-grupos"><span class="header-section-number">9.2</span> Exploracion e interpretación de grupos</h3>
</section>
</section>
<section id="edición-o-ajuste-de-grupos-si-aplica" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="edición-o-ajuste-de-grupos-si-aplica"><span class="header-section-number">10</span> Edición o Ajuste de Grupos (si aplica)</h2>
<section id="validación-de-grupos-editado" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="validación-de-grupos-editado"><span class="header-section-number">10.1</span> Validación de grupos editado</h3>
</section>
<section id="exploracion-e-interpretación-de-grupos-editado" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="exploracion-e-interpretación-de-grupos-editado"><span class="header-section-number">10.2</span> Exploracion e interpretación de grupos editado</h3>
</section>
</section>
<section id="modelos-de-lb" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="modelos-de-lb"><span class="header-section-number">11</span> Modelos de LB</h2>
<section id="construcción" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="construcción"><span class="header-section-number">11.1</span> Construcción</h3>
</section>
<section id="metricas" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="metricas"><span class="header-section-number">11.2</span> Metricas</h3>
</section>
<section id="comparaciones-contra-modelos-sin-agrupaciones" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="comparaciones-contra-modelos-sin-agrupaciones"><span class="header-section-number">11.3</span> Comparaciones contra modelos sin agrupaciones</h3>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>